
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Apollo 2.5 硬件与系统安装指南 &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx13.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/translations.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="canonical" href="https://www.sphinx-doc.org/en/master/docs/quickstart/apollo_2_5_hardware_system_installation_guide_v1_cn.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Apollo 2.5 map collection guide" href="apollo_2_5_map_collection_guide.html" />
    <link rel="prev" title="Apollo 2.5 Hardware and System Installation Guide" href="apollo_2_5_hardware_system_installation_guide_v1.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../README.html">Home</a></li>
    <li><a href="README.html">Get it</a></li>
    <li><a href="../../contents.html">Docs</a></li>
    <li><a href="../../development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="../../README.html">
      <img src="../../_static/sphinx.png" alt="Apollo Doc" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="apollo_2_5_map_collection_guide.html" title="Apollo 2.5 map collection guide"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="apollo_2_5_hardware_system_installation_guide_v1.html" title="Apollo 2.5 Hardware and System Installation Guide"
             accesskey="P">上一页</a> |</li>
        <li><a href="../../index.html">Apollo home</a>&#160;|</li>
        <li><a href="../../contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Apollo 2.5 硬件与系统安装指南</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Apollo 2.5 硬件与系统安装指南</a></li>
<li><a class="reference internal" href="#id1">关于本篇指南</a><ul>
<li><a class="reference internal" href="#id2">文档编写规则</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id3">引言</a><ul>
<li><a class="reference internal" href="#id4">文档说明</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id5">核心硬件</a><ul>
<li><a class="reference internal" href="#id6">附加组件</a></li>
<li><a class="reference internal" href="#ipc">车载计算机系统 - IPC</a><ul>
<li><a class="reference internal" href="#id7">IPC的配置</a></li>
<li><a class="reference internal" href="#id8">IPC前侧视图</a></li>
</ul>
</li>
<li><a class="reference internal" href="#can">控制器局域网络(CAN)卡</a></li>
<li><a class="reference internal" href="#gps-imu">全球定位系统(GPS)和惯性测量装置(IMU)</a><ul>
<li><a class="reference internal" href="#novatel-span-igm-a1">选项1: NovAtel SPAN-IGM-A1</a></li>
<li><a class="reference internal" href="#novatel-span-propak6novatel-imu-igm-a1">选项2: NovAtel SPAN ProPak6和NovAtel IMU-IGM-A1</a></li>
</ul>
</li>
<li><a class="reference internal" href="#the-gps-receiver-antenna">The GPS Receiver/Antenna</a><ul>
<li><a class="reference internal" href="#novatel-gps-703-ggg-hv">选项 1: <strong>NovAtel GPS-703-GGG-HV</strong>.</a></li>
<li><a class="reference internal" href="#dual-novatel-gnss-502">选项 2: <strong>Dual NovAtel GNSS-502</strong></a></li>
</ul>
</li>
<li><a class="reference internal" href="#lidar">激光雷达 (LiDAR)</a></li>
<li><a class="reference internal" href="#id9">摄像头</a></li>
<li><a class="reference internal" href="#id10">雷达</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id11">安装任务概览</a></li>
<li><a class="reference internal" href="#id12">安装任务步骤</a><ul>
<li><a class="reference internal" href="#id13">上车前的准备工作</a><ul>
<li><a class="reference internal" href="#id14">IPC的准备工作</a></li>
<li><a class="reference internal" href="#id15">为IPC安装软件</a><ul>
<li><a class="reference internal" href="#ubuntu-linux">安装Ubuntu Linux</a></li>
<li><a class="reference internal" href="#apollo">安装Apollo内核</a><ul>
<li><a class="reference internal" href="#id16">使用预编译的 Apollo 内核</a></li>
<li><a class="reference internal" href="#id17">构建你自己的内核</a></li>
</ul>
</li>
<li><a class="reference internal" href="#nvidia-gpu">安装 NVIDIA GPU 驱动</a><ul>
<li><a class="reference internal" href="#esd-can">可选：测试ESD CAN设备端</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id18">上车安装</a><ul>
<li><a class="reference internal" href="#id19">前提条件</a></li>
<li><a class="reference internal" href="#id20">主要部件安装图</a></li>
<li><a class="reference internal" href="#gps">安装GPS的接收器和天线</a><ul>
<li><a class="reference internal" href="#id21">选项1：安装NovAtel SPAN-IGM-A1</a><ul>
<li><a class="reference internal" href="#id22">安装</a></li>
<li><a class="reference internal" href="#id23">接线</a></li>
<li><a class="reference internal" href="#id24">采取杠杆臂测量</a></li>
</ul>
</li>
<li><a class="reference internal" href="#novatel-span-propak6-novatel-imu-igm-a1">选项2：NovAtel SPAN® ProPak6™ 和 NovAtel IMU-IGM-A1</a><ul>
<li><a class="reference internal" href="#id25">组件</a></li>
<li><a class="reference internal" href="#id26">安装</a></li>
<li><a class="reference internal" href="#id27">接线</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id28">安装激光雷达(LiDAR)</a><ul>
<li><a class="reference internal" href="#id29">安装</a></li>
<li><a class="reference internal" href="#id30">接线</a></li>
<li><a class="reference internal" href="#id31">配置</a></li>
<li><a class="reference internal" href="#vlp-16-lidar">安装 VLP-16 lidar (可选)</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id32">安装摄像头</a></li>
<li><a class="reference internal" href="#id33">安装雷达</a><ul>
<li><a class="reference internal" href="#id34">安装IPC</a></li>
<li><a class="reference internal" href="#id35">杠杆臂测量</a></li>
<li><a class="reference internal" href="#gpsimu">配置GPS、IMU</a></li>
</ul>
</li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#id36">建立网络</a><ul>
<li><a class="reference internal" href="#id37">推荐配置</a></li>
</ul>
</li>
<li><a class="reference internal" href="#id38">额外任务</a></li>
<li><a class="reference internal" href="#id39">下一步</a></li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="apollo_2_5_hardware_system_installation_guide_v1.html"
                        title="上一章">Apollo 2.5 Hardware and System Installation Guide</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="apollo_2_5_map_collection_guide.html"
                        title="下一章">Apollo 2.5 map collection guide</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/quickstart/apollo_2_5_hardware_system_installation_guide_v1_cn.md.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="apollo-2-5">
<h1>Apollo 2.5 硬件与系统安装指南<a class="headerlink" href="#apollo-2-5" title="永久链接至标题">¶</a></h1>
<ul class="simple">
<li><p><a class="reference external" href="#%E5%85%B3%E4%BA%8E%E6%9C%AC%E7%AF%87%E6%8C%87%E5%8D%97">关于本篇指南</a></p>
<ul>
<li><p><a class="reference external" href="#%E6%96%87%E6%A1%A3%E7%BC%96%E5%86%99%E8%A7%84%E5%88%99">文档编写规则</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E5%BC%95%E8%A8%80">引言</a></p>
<ul>
<li><p><a class="reference external" href="#%E6%96%87%E6%A1%A3%E8%AF%B4%E6%98%8E">文档说明</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E6%A0%B8%E5%BF%83%E7%A1%AC%E4%BB%B6">核心硬件</a></p>
<ul>
<li><p><a class="reference external" href="#%E9%99%84%E5%8A%A0%E7%BB%84%E4%BB%B6">附加组件</a></p></li>
<li><p><a class="reference external" href="#%E8%BD%A6%E8%BD%BD%E8%AE%A1%E7%AE%97%E6%9C%BA%E7%B3%BB%E7%BB%9F---ipc">车载计算机系统 - IPC</a></p>
<ul>
<li><p><a class="reference external" href="#ipc%E7%9A%84%E9%85%8D%E7%BD%AE">IPC的配置</a></p></li>
<li><p><a class="reference external" href="#ipc%E5%89%8D%E4%BE%A7%E8%A7%86%E5%9B%BE">IPC前侧视图</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E6%8E%A7%E5%88%B6%E5%99%A8%E5%B1%80%E5%9F%9F%E7%BD%91%E7%BB%9Ccan%E5%8D%A1">控制器局域网络(CAN)卡</a></p></li>
<li><p><a class="reference external" href="#%E5%85%A8%E7%90%83%E5%AE%9A%E4%BD%8D%E7%B3%BB%E7%BB%9Fgps%E5%92%8C%E6%83%AF%E6%80%A7%E6%B5%8B%E9%87%8F%E8%A3%85%E7%BD%AEimu">全球定位系统(GPS)和惯性测量装置(IMU)</a></p>
<ul>
<li><p><a class="reference external" href="#%E9%80%89%E9%A1%B91-novatel-span-igm-a1">选项1: NovAtel SPAN-IGM-A1</a></p></li>
<li><p><a class="reference external" href="#%E9%80%89%E9%A1%B92-novatel-span-propak6%E5%92%8Cnovatel-imu-igm-a1">选项2: NovAtel SPAN ProPak6和NovAtel IMU-IGM-A1</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#the-gps-receiverantenna">The GPS Receiver/Antenna</a></p>
<ul>
<li><p><a class="reference external" href="#%E9%80%89%E9%A1%B9-1-novatel-gps-703-ggg-hv">选项 1: NovAtel GPS-703-GGG-HV</a></p></li>
<li><p><a class="reference external" href="#%E9%80%89%E9%A1%B9-2-dual-novatel-gnss-502">选项 2: Dual NovAtel GNSS-502</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BE-lidar">激光雷达 (LiDAR)</a></p></li>
<li><p><a class="reference external" href="#%E6%91%84%E5%83%8F%E5%A4%B4">摄像头</a></p></li>
<li><p><a class="reference external" href="#%E9%9B%B7%E8%BE%BE">雷达</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E5%AE%89%E8%A3%85%E4%BB%BB%E5%8A%A1%E6%A6%82%E8%A7%88">安装任务概览</a></p></li>
<li><p><a class="reference external" href="#%E5%AE%89%E8%A3%85%E4%BB%BB%E5%8A%A1%E6%AD%A5%E9%AA%A4">安装任务步骤</a></p>
<ul>
<li><p><a class="reference external" href="#%E4%B8%8A%E8%BD%A6%E5%89%8D%E7%9A%84%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">上车前的准备工作</a></p>
<ul>
<li><p><a class="reference external" href="#ipc%E7%9A%84%E5%87%86%E5%A4%87%E5%B7%A5%E4%BD%9C">IPC的准备工作</a></p></li>
<li><p><a class="reference external" href="#%E4%B8%BAipc%E5%AE%89%E8%A3%85%E8%BD%AF%E4%BB%B6">为IPC安装软件</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E4%B8%8A%E8%BD%A6%E5%AE%89%E8%A3%85">上车安装</a></p>
<ul>
<li><p><a class="reference external" href="#%E5%89%8D%E6%8F%90%E6%9D%A1%E4%BB%B6">前提条件</a></p></li>
<li><p><a class="reference external" href="#%E4%B8%BB%E8%A6%81%E9%83%A8%E4%BB%B6%E5%AE%89%E8%A3%85%E5%9B%BE">主要部件安装图</a></p></li>
<li><p><a class="reference external" href="#%E5%AE%89%E8%A3%85gps%E7%9A%84%E6%8E%A5%E6%94%B6%E5%99%A8%E5%92%8C%E5%A4%A9%E7%BA%BF">安装GPS的接收器和天线</a></p>
<ul>
<li><p><a class="reference external" href="#%E9%80%89%E9%A1%B91%E5%AE%89%E8%A3%85novatel-span-igm-a1">选项1：安装NovAtel SPAN-IGM-A1</a></p></li>
<li><p><a class="reference external" href="#%E9%80%89%E9%A1%B92novatel-span%C2%AE-propak6%E2%84%A2-%E5%92%8C-novatel-imu-igm-a1">选项2：NovAtel SPAN® ProPak6™ 和 NovAtel IMU-IGM-A1</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E5%AE%89%E8%A3%85%E6%BF%80%E5%85%89%E9%9B%B7%E8%BE%BElidar">安装激光雷达(LiDAR)</a></p></li>
<li><p><a class="reference external" href="#%E5%AE%89%E8%A3%85%E6%91%84%E5%83%8F%E5%A4%B4">安装摄像头</a></p></li>
<li><p><a class="reference external" href="#%E5%AE%89%E8%A3%85%E9%9B%B7%E8%BE%BE">安装雷达</a></p></li>
</ul>
</li>
</ul>
</li>
<li><p><a class="reference external" href="#%E5%BB%BA%E7%AB%8B%E7%BD%91%E7%BB%9C">建立网络</a></p>
<ul>
<li><p><a class="reference external" href="#%E6%8E%A8%E8%8D%90%E9%85%8D%E7%BD%AE">推荐配置</a></p></li>
</ul>
</li>
<li><p><a class="reference external" href="#%E9%A2%9D%E5%A4%96%E4%BB%BB%E5%8A%A1">额外任务</a></p></li>
<li><p><a class="reference external" href="#%E4%B8%8B%E4%B8%80%E6%AD%A5">下一步</a></p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id1">
<h1>关于本篇指南<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h1>
<p>本篇指南提供了所有 <strong>Apollo项目</strong>需要的的安装硬件部分和软件系统教程。系统安装信息包括下载和安装Apollo Linux内核的过程。</p>
<section id="id2">
<h2>文档编写规则<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h2>
<p>下表列出了本文使用的编写规则：</p>
<table class="colwidths-auto docutils align-default">
<thead>
<tr class="row-odd"><th class="head"><p><strong>图标</strong></p></th>
<th class="head"><p><strong>描述</strong></p></th>
</tr>
</thead>
<tbody>
<tr class="row-even"><td><p><strong>加粗</strong></p></td>
<td><p>强调。</p></td>
</tr>
<tr class="row-odd"><td><p><code class="docutils literal notranslate"><span class="pre">Mono-space</span> <span class="pre">字体</span></code></p></td>
<td><p>代码, 类型数据。</p></td>
</tr>
<tr class="row-even"><td><p><em>斜体</em></p></td>
<td><p>文件、段落和标题中术语的用法。</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="信息" src="../../_images/info_icon.png" /></p></td>
<td><p><strong>信息</strong>  提供了可能有用的信息。忽略此信息可能会产生不可预知的后果。</p></td>
</tr>
<tr class="row-even"><td><p><img alt="提示" src="../../_images/tip_icon1.png" /></p></td>
<td><p><strong>提醒</strong> 包含有用的提示或者可以帮助你完成安装的快捷步骤。</p></td>
</tr>
<tr class="row-odd"><td><p><img alt="在线" src="../../_images/online_icon.png" /></p></td>
<td><p><strong>在线</strong> 提供指向特定网站的链接，您可以在其中获取更多信息。</p></td>
</tr>
<tr class="row-even"><td><p><img alt="警告" src="../../_images/warning_icon1.png" /></p></td>
<td><p><strong>警告</strong> 包含 <strong>不能</strong> 被忽略的内容，如果忽略，当前安装步骤可能会失败。</p></td>
</tr>
</tbody>
</table>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id3">
<h1>引言<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h1>
<p><strong>Apollo项目</strong>旨在为汽车和自动驾驶行业的合作伙伴提供开放，完整和可靠的软件平台。该项目的目的是使这些企业能够开发基于Apollo软件栈的自动驾驶系统。</p>
<section id="id4">
<h2>文档说明<a class="headerlink" href="#id4" title="永久链接至标题">¶</a></h2>
<p>以下文档适用于Apollo 2.5:</p>
<ul class="simple">
<li><p><em><strong><u>[Apollo Hardware and System Installation Guide]</u></strong></em>  ─ 提供用于安装车辆的硬件部件和系统软件的教程:</p>
<ul>
<li><p><strong>车辆</strong>:</p>
<ul>
<li><p>工业用计算机 (IPC)</p></li>
<li><p>全球定位系统 (GPS)</p></li>
<li><p>惯性测量单元 (IMU)</p></li>
<li><p>控制器局域网络 (CAN) 卡</p></li>
<li><p>GPS 天线</p></li>
<li><p>GPS 接收器</p></li>
<li><p>安装激光雷达 (LiDAR)</p></li>
<li><p>摄像头</p></li>
<li><p>雷达</p></li>
</ul>
</li>
<li><p><strong>软件</strong>:</p>
<ul>
<li><p>Ubuntu Linux 操作系统</p></li>
<li><p>Apollo Linux 内核</p></li>
<li><p>Nvidia GPU 驱动</p></li>
</ul>
</li>
</ul>
</li>
<li><p><em><strong><u>[Apollo Quick Start Guide]</u></strong></em> ─ 文档和产品蓝图提供了完整的端到端教程。本文还提供了一些其它链接用于将一辆普通汽车改装成一辆自动驾驶车辆。</p></li>
</ul>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id5">
<h1>核心硬件<a class="headerlink" href="#id5" title="永久链接至标题">¶</a></h1>
<p>需要安装的关键的硬件组件包括：</p>
<ul class="simple">
<li><p>车载计算机系统 ─ Neousys Nuvo-6108GC</p></li>
<li><p>CAN卡 ─ ESD CAN-PCIe/402-B4</p></li>
<li><p>全球定位系统(GPS)和惯性测量装置(IMU) ─ 您可从如下选项中任选其一:</p>
<ul>
<li><p>NovAtel SPN-IGM-A1</p></li>
<li><p>NovAtel SPAN® ProPak6™ 和 NovAtel IMU-IGM-A1</p></li>
</ul>
</li>
<li><p>激光雷达 (LiDAR) - Velodyne HDL-64E S3</p></li>
<li><p>摄像头 — 采用 USB 3.0 的Leopard Imaging LI-USB30-AR023ZWDR</p></li>
<li><p>雷达 — Continental ARS408-21</p></li>
</ul>
<section id="id6">
<h2>附加组件<a class="headerlink" href="#id6" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>提供网络接入的4G路由器</p></li>
<li><p>提供额外USB接口的USB集线器</p></li>
<li><p>供在车辆现场调试使用的显示器，键盘，鼠标</p></li>
<li><p>连接线：数字可视接口（DVI）线（可选），用于GPS和LiDAR时间同步的定制线</p></li>
<li><p>苹果iPad Pro:9.7寸, WiFi(可选)</p></li>
</ul>
<p>关键硬件组件的特性将在后续部分中介绍。</p>
</section>
<section id="ipc">
<h2>车载计算机系统 - IPC<a class="headerlink" href="#ipc" title="永久链接至标题">¶</a></h2>
<p>车载计算机系统是用于自动驾驶车辆的工业PC（IPC），并使用由第六代Intel Xeon E3 1275 V5 CPU强力驱动的 <strong>NeousysNuvo-6108GC</strong>。</p>
<p>Neousys Nuvo-6108GC是自动驾驶系统（ADS）的中心单元。</p>
<section id="id7">
<h3>IPC的配置<a class="headerlink" href="#id7" title="永久链接至标题">¶</a></h3>
<p>IPC配置如下：</p>
<ul class="simple">
<li><p>ASUS GTX1080 GPU-A8G-Gaming GPU Card</p></li>
<li><p>32GB DDR4 RAM</p></li>
<li><p>PO-280W-OW 280W 交流、直流电源适配器</p></li>
<li><p>2.5” SATA 硬盘 1TB 7200rpm</p></li>
</ul>
</section>
<section id="id8">
<h3>IPC前侧视图<a class="headerlink" href="#id8" title="永久链接至标题">¶</a></h3>
<p>安装了GPU的IPC前后视图如下:</p>
<p>Nuvo-6108GC的前视图:</p>
<p><img alt="ipc_front" src="../../_images/IPC-6108GC-front-side.jpg" /></p>
<p>Nuvo-6108GC的侧视图:</p>
<p><img alt="ipc_back" src="../../_images/IPC-6108GC-left-side.jpg" /></p>
<p>想要了解更多有关 Nuvo-6108GC的资料, 请参考:</p>
<p><img alt="online" src="../../_images/online_icon.png" />
Neousys Nuvo-6108GC 产品页:</p>
<p><a class="reference external" href="http://www.neousys-tech.com/en/product/application/rugged-embedded/nuvo-6108gc-gpu-computing">http://www.neousys-tech.com/en/product/application/rugged-embedded/nuvo-6108gc-gpu-computing</a></p>
<p><img alt="online" src="../../_images/online_icon.png" />
Neousys Nuvo-6108GC 手册：还不可用。</p>
</section>
</section>
<section id="can">
<h2>控制器局域网络(CAN)卡<a class="headerlink" href="#can" title="永久链接至标题">¶</a></h2>
<p>IPC中使用的CAN卡型号为 <strong>ESD</strong> <strong>CAN-PCIe/402-B4</strong>.</p>
<p><img alt="can_card" src="../../_images/CAN-B4.png" /></p>
<p>想要了解更多有关CAN-PCIe/402-B4的资料, 请参考:</p>
<p><img alt="online" src="../../_images/online_icon.png" />    ESD CAN-PCIe/402 产品主页：</p>
<p><a class="reference external" href="https://esd.eu/en/products/can-pcie402">https://esd.eu/en/products/can-pcie402</a></p>
</section>
<section id="gps-imu">
<h2>全球定位系统(GPS)和惯性测量装置(IMU)<a class="headerlink" href="#gps-imu" title="永久链接至标题">¶</a></h2>
<p>有 <strong>两种</strong> GPS-IMU的 <strong>可选方案</strong>，您只需根据您的需求进行选择:</p>
<ul class="simple">
<li><p>选项1：NovAtel SPAN-IGM-A1</p></li>
<li><p>选项2：NovAtel SPAN® ProPak6™ 和 NovAtel IMU-IGM-A1</p></li>
</ul>
<section id="novatel-span-igm-a1">
<h3>选项1: NovAtel SPAN-IGM-A1<a class="headerlink" href="#novatel-span-igm-a1" title="永久链接至标题">¶</a></h3>
<p>NovAtel SPAN-IGM-A1 是一个集成的，单盒的解决方案，提供紧密耦合的全球导航卫星系统（GNSS）定位和具有NovAtel OEM615接收机的惯性导航功能。</p>
<p><img alt="novatel_imu" src="../../_images/Novatel_imu.png" /></p>
<p>想要了解更多有关NovAtel SPAN-IGM-A1的资料, 请参考:</p>
<p><img alt="online" src="../../_images/online_icon.png" /> NovAtel SPAN-IGM-A1 产品页:</p>
<p><a class="reference external" href="https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/">https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/</a></p>
</section>
<section id="novatel-span-propak6novatel-imu-igm-a1">
<h3>选项2: NovAtel SPAN ProPak6和NovAtel IMU-IGM-A1<a class="headerlink" href="#novatel-span-propak6novatel-imu-igm-a1" title="永久链接至标题">¶</a></h3>
<p>NovAtel ProPak6是独立的GNSS接收机，它与NovAtel提供的独立IMU（本例中为NovAtel IMU-IGM-A1）相融合以提供定位。</p>
<p>ProPak6提供由NovAtel生产的最新最先进的外壳产品。</p>
<p>IMU-IGM-A1是与支持SPAN的GNSS接收器（如SPAN ProPak6）配对的IMU。</p>
<p><img alt="novatel_pp6" src="../../_images/Novatel_pp6.png" /></p>
<p>想要了解更多有关NovAtel SPAN ProPak6 and the IMU-IGM-A1, 请参考:</p>
<p><img alt="online" src="../../_images/online_icon.png" /> NovAtel ProPak6 安装操作手册</p>
<p><a class="reference external" href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
<p><img alt="online" src="../../_images/online_icon.png" />NovAtel IMU-IGM-A1 产品页:</p>
<p><a class="reference external" href="https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/">https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/</a></p>
</section>
</section>
<section id="the-gps-receiver-antenna">
<h2>The GPS Receiver/Antenna<a class="headerlink" href="#the-gps-receiver-antenna" title="永久链接至标题">¶</a></h2>
<p>GPS-IMU组件的GPS接收器、天线可使用选项有：</p>
<section id="novatel-gps-703-ggg-hv">
<h3>选项 1: <strong>NovAtel GPS-703-GGG-HV</strong>.<a class="headerlink" href="#novatel-gps-703-ggg-hv" title="永久链接至标题">¶</a></h3>
<p>**NOTE:**GPS NovAtelGPS-703-GGG-HV与上文中提到的两个GPS-IMU选项的任一型号配合使用。</p>
<p><img alt="gps_receiver" src="../../_images/gps_receiver.png" /></p>
<p>更多关于 NovAtel GPS-703-GGG-HV的信息, 请参考:</p>
<p><img alt="online" src="../../_images/online_icon.png" /> NovAtel GPS-703-GGG-HV Product Page:</p>
<p><a class="reference external" href="https://www.novatel.com/products/gnss-antennas/high-performance-gnss-antennas/gps-703-ggg-hv/">https://www.novatel.com/products/gnss-antennas/high-performance-gnss-antennas/gps-703-ggg-hv/</a></p>
</section>
<section id="dual-novatel-gnss-502">
<h3>选项 2: <strong>Dual NovAtel GNSS-502</strong><a class="headerlink" href="#dual-novatel-gnss-502" title="永久链接至标题">¶</a></h3>
<p>**NOTE:**NovAtel GNSS-502与上文中提到的两个GPS-IMU选项的任一型号配合使用。通过使用2个天线，双天线接收器（如ProPak6）得以利用更高质量的航向信息。</p>
<p><img alt="gps_receiver" src="../../_images/novatel_gnss-502.png" /></p>
<p>更多有关 NovAtel GNSS-502的信息, 请参考:</p>
<p><img alt="online" src="../../_images/online_icon.png" /> NovAtel GNSS-502 产品页:</p>
<p><a class="reference external" href="https://www.novatel.com/products/gnss-antennas/vexxis-series-antennas/vexxis-gnss-500-series-antennas/">https://www.novatel.com/products/gnss-antennas/vexxis-series-antennas/vexxis-gnss-500-series-antennas/</a></p>
</section>
</section>
<section id="lidar">
<h2>激光雷达 (LiDAR)<a class="headerlink" href="#lidar" title="永久链接至标题">¶</a></h2>
<p>由Velodyne LiDAR公司提供的64线激光雷达系统 <strong>HDL-64E S3</strong> 。</p>
<p><img alt="lidar_image" src="../../_images/lidar_pic.png" /></p>
<p><strong>主要特点:</strong></p>
<ul class="simple">
<li><p>线数：64</p></li>
<li><p>探测距离：120m</p></li>
<li><p>220万点每秒</p></li>
<li><p>水平视场角：360°</p></li>
<li><p>垂直视场角：26.9°</p></li>
<li><p>水平角分辨率：0.08°(方位角)</p></li>
<li><p>精度：&lt;2cm</p></li>
<li><p>垂直角分辨率: ~0.4°</p></li>
<li><p>用户可选帧速率</p></li>
<li><p>坚固耐用</p></li>
</ul>
<p><img alt="online" src="../../_images/online_icon.png" />Velodyne HDL-64E S3的官网:
<a class="reference external" href="http://velodynelidar.com/hdl-64e.html">http://velodynelidar.com/hdl-64e.html</a></p>
<p>由Velodyne LiDAR公司提供的16线激光雷达系统 <strong>VLP-16</strong>。</p>
<p><img alt="lidar_image" src="../../_images/lidar_pic_16.png" /></p>
<p><strong>主要特点:</strong></p>
<ul class="simple">
<li><p>线数：16</p></li>
<li><p>探测距离：100m</p></li>
<li><p>600,000点每秒</p></li>
<li><p>水平视场角：360°</p></li>
<li><p>垂直视场角：±15°</p></li>
<li><p>低功耗</p></li>
<li><p>保护性设计</p></li>
</ul>
<p><img alt="online" src="../../_images/online_icon.png" />Velodyne VLP-16官网:
<a class="reference external" href="http://velodynelidar.com/vlp-16.html">http://velodynelidar.com/vlp-16.html</a></p>
</section>
<section id="id9">
<h2>摄像头<a class="headerlink" href="#id9" title="永久链接至标题">¶</a></h2>
<p>所使用的相机是Leopard Imaging公司制造的标准USB 3.0接口的LI-USB30-AR023ZWDR，我们建议分别使用两个6毫米和一个25毫米镜头的摄像头来实现所需的性能。</p>
<p><img alt="camera_image" src="../../_images/LI-camera.png" /></p>
<p><img alt="online" src="../../_images/online_icon.png" />您可以从 Leopard Imaging公司的官网上获得更多信息:</p>
<p><a class="reference external" href="https://leopardimaging.com/product/li-usb30-ar023zwdr/">https://leopardimaging.com/product/li-usb30-ar023zwdr/</a></p>
</section>
<section id="id10">
<h2>雷达<a class="headerlink" href="#id10" title="永久链接至标题">¶</a></h2>
<p>所用雷达是Continental集团制造的ARS408-21。</p>
<p><img alt="radar_image" src="../../_images/ARS-408-21.jpg" /></p>
<p><img alt="online" src="../../_images/online_icon.png" />您可以在产品页上找到更多信息:</p>
<p><a class="reference external" href="https://www.continental-automotive.com/Landing-Pages/Industrial-Sensors/Products/ARS-408-21">https://www.continental-automotive.com/Landing-Pages/Industrial-Sensors/Products/ARS-408-21</a></p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id11">
<h1>安装任务概览<a class="headerlink" href="#id11" title="永久链接至标题">¶</a></h1>
<p>安装硬件和软件组件涉及以下任务：
<strong>室内：</strong></p>
<ol class="simple">
<li><p>在将CAN卡插入插槽之前，先重新定位CAN卡终端跳线。
准备IPC：</p></li>
</ol>
<ul class="simple">
<li><p>检查图形处理单元（GPU）磁带，以确定是否需要卸下GPU卡（如果已预安装）</p></li>
<li><p>在将卡插入插槽之前，首先重新定位CAN卡端接跳线，准备并安装控制器局域网（CAN）卡。</p></li>
</ul>
<ol>
<li><p>如果未预装硬盘，请先在IPC安装硬盘
您也可以选择更换预装的硬盘。</p>
<p><strong>推荐</strong>：</p>
<ul class="simple">
<li><p>为了更好的可靠性，安装固态硬盘（SSD）；</p></li>
<li><p>如果需要收集驾驶数据，需要使用大容量硬盘；</p></li>
</ul>
</li>
<li><p>准备IPC加电：</p>
<p>a. 将电源线连接到电源连接器（接线端子）</p>
<p>b. 将显示器，以太网，键盘和鼠标连接到IPC</p>
<p>c. 将IPC连接到电源</p>
</li>
<li><p>在IPC安装软件（需要部分Linux经验）：</p>
<p>a. 安装Ubuntu Linux.</p>
<p>b. 安装Apollo Linux 内核.</p>
</li>
</ol>
<p><strong>上车安装:</strong></p>
<ul class="simple">
<li><p>确保所有在前提条件中列出的对车辆的修改，都已执行。</p></li>
<li><p>安装主要的组件：</p>
<ul>
<li><p>GPS 天线</p></li>
<li><p>IPC</p></li>
<li><p>GPS 接收器和 IMU</p></li>
<li><p>LiDAR</p></li>
<li><p>摄像头</p></li>
<li><p>雷达</p></li>
</ul>
</li>
</ul>
<p>安装所有硬件和软件组件的实际步骤详见安装任务步骤。</p>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id12">
<h1>安装任务步骤<a class="headerlink" href="#id12" title="永久链接至标题">¶</a></h1>
<p>该部分包含：</p>
<ul class="simple">
<li><p>核心硬件和软件的安装</p></li>
<li><p>车辆硬件的安装</p></li>
</ul>
<section id="id13">
<h2>上车前的准备工作<a class="headerlink" href="#id13" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>准备IPC：</p></li>
<li><p>安装CAN卡</p></li>
<li><p>安装或者替换硬盘</p></li>
<li><p>准备为IPC供电</p></li>
<li><p>为IPC安装软件：</p></li>
<li><p>Ubuntu Linux</p></li>
<li><p>Apollo内核</p></li>
<li><p>Nvidia GPU 驱动</p></li>
</ul>
<section id="id14">
<h3>IPC的准备工作<a class="headerlink" href="#id14" title="永久链接至标题">¶</a></h3>
<p>有如下步骤：</p>
<ol class="simple">
<li><p>准备安装CAN卡：在Neousys Nuvo-6108GC中，ASUS®GTX-1080GPU-A8G-GAMING GPU卡预先安装占用了一个PCI插槽，将CAN卡安装到剩余两个PCI插槽其一即可。</p></li>
</ol>
<p>a. 找到并拧下计算机侧面的八个螺丝（棕色方块所示或棕色箭头指示）:</p>
<p><img alt="Positions_of_Screws" src="../../_images/IPC-6108GC-Screw-Positions_labeled.png" /></p>
<p>b. 从IPC上拆下盖子。基座有3个PCI插槽（由显卡占据一个）：</p>
<p><img alt="removing the cover" src="../../_images/Removing_the_cover.jpg" /></p>
<p><img alt="Before installing the CAN card" src="../../_images/Before_installing_the_can_card.png" /></p>
<p>c. 通过从其默认位置移除红色跳线帽（以黄色圆圈显示）并将其放置在其终止位置，设置CAN卡端接跳线：</p>
<p><img alt="prepare_can_card" src="../../_images/prepare_can_card2.png" /></p>
<p><strong><img alt="warning" src="../../_images/warning_icon1.png" />WARNING</strong>: 如果端接跳线设置不正确，CAN卡将无法正常工作。</p>
<p>d. 将CAN卡插入IPC的插槽:</p>
<p><img alt="installed CAN" src="../../_images/After_installing_the_CAN_Card.png" /></p>
<p>e. 安装IPC盖子：</p>
<p><img alt="IPC-6108GC-Screw-Positions.png" src="../../_images/IPC-6108GC-Screw-Positions.png" /></p>
<ol>
<li><p>准备IPC启动:</p>
<p>a. 将电源线连接到IPC的电源连接器（接线端子）：</p>
<p><img alt="warning_icon" src="../../_images/warning_icon1.png" /><strong>WARNING</strong>: 确保电源线的正极（红色用 <strong>R</strong>表示）和负极（黑色用 <strong>B</strong>表示）正确的插入电源端子块上的插孔中。</p>
<p><img alt="ipc_power_RB" src="../../_images/ipc_power_RB.png" /></p>
<p>b. 连接显示器，以太网线，键盘和鼠标到IPC上：</p>
</li>
<li><p><img alt="IPC-6108GC-CableConnected-overexposed.png" src="../../_images/IPC-6108GC-CableConnected-overexposed.png" /></p></li>
</ol>
<p><img alt="warning" src="../../_images/tip_icon1.png" />如果有一张或多张卡已经加入进系统里，推荐您将风扇速度通过BIOS配置:</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- 当启动电脑时，按F2键进入BIOS设置菜单
- 进入 [Advanced] =&gt; [Smart Fan Setting]
- 将 [Fan Max. Trip Temp] 设置为 50
- 将 [Fan Start Trip Temp] 设置为 20
</pre></div>
</div>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" />建议您用DVI连接GPU和显示器。以下是在主卡上将DVI端口设置为显示器连接端口的步骤：</p>
<div class="highlight-none notranslate"><div class="highlight"><pre><span></span>- 当启动电脑时，按F2键进入BIOS设置菜单
- 进入 [Advanced]=&gt;[System Agent (SA) Configuration]=&gt;[Graphics Configuration]=&gt;[Primary Display]=&gt; 设置为 &quot;PEG&quot;
</pre></div>
</div>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" />推荐您将IPC设置为一直处于最佳性能模式（maximum performance mode）：
- 当启动电脑时，按F2键进入BIOS设置菜单
- 进入 [Power] =&gt; [SKU POWER CONFIG] =&gt; 设置为 “MAX. TDP”</p>
<p>c. 连接电源：</p>
<p><img alt="IPC-6108GC-PowerCable.jpg" src="../../_images/IPC-6108GC-PowerCable.jpg" /></p>
</section>
<section id="id15">
<h3>为IPC安装软件<a class="headerlink" href="#id15" title="永久链接至标题">¶</a></h3>
<p>这部分主要描述以下的安装步骤：</p>
<ul class="simple">
<li><p>Ubuntu Linux</p></li>
<li><p>Apollo 内核</p></li>
<li><p>Nvidia GPU 驱动</p></li>
</ul>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" />您最好具有使用Linux成功安装软件的经验。</p>
<section id="ubuntu-linux">
<h4>安装Ubuntu Linux<a class="headerlink" href="#ubuntu-linux" title="永久链接至标题">¶</a></h4>
<p>步骤如下：</p>
<ol>
<li><p>创建一个可以引导启动的Ubantu Linux USB闪存驱动器：</p>
<p>下载Ubuntu（或Xubuntu等分支版本），并按照在线说明创建可引导启动的USB闪存驱动器。</p>
</li>
</ol>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" /> 推荐使用 <strong>Ubuntu 14.04.3</strong>.</p>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" />开机按 F2 进入 BIOS 设置菜单，建议禁用BIOS中的快速启动和静默启动，以便捕捉引导启动过程中的问题。 建议您在BIOS中禁用“快速启动”和“安静启动”，以便了解启动过程中遇到的问题。</p>
<p>获取更多Ubuntu信息，可访问:
<img alt="online_icon" src="../../_images/online_icon.png" /> Ubuntu 桌面站点:</p>
<p><a class="reference external" href="https://www.ubuntu.com/desktop">https://www.ubuntu.com/desktop</a></p>
<ol>
<li><p>安装 Ubuntu Linux:</p>
<p>a.  将Ubuntu安装驱动器插入USB端口并启动IPC。</p>
<p>b.  按照屏幕上的说明安装Linux。</p>
</li>
<li><p>执行软件更新与安装:</p>
<p>a.  安装完成，重启进入Linux。</p>
<p>b.  执行软件更新器（Software Updater）更新最新软件包，或在终端执行以下命令完成更新。</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt-get update<span class="p">;</span> 
sudo apt-get upgrade
</pre></div>
</div>
<p>c.  打开终端，输入以下命令，安装Linux 4.4 内核：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span>sudo apt-get install linux-generic-lts-xenial
</pre></div>
</div>
</li>
</ol>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" />IPC必须接入网络以便更新与安装软件，所以请确认网线插入并连接，如果连接网络没有使用动态分配（DHCP），需要更改网络配置。</p>
</section>
<section id="apollo">
<h4>安装Apollo内核<a class="headerlink" href="#apollo" title="永久链接至标题">¶</a></h4>
<p>车上运行Apollo需要 <a class="reference external" href="https://github.com/ApolloAuto/apollo-kernel">Apollo Kernel</a>. 强烈建议安装预编译内核。</p>
<section id="id16">
<h5>使用预编译的 Apollo 内核<a class="headerlink" href="#id16" title="永久链接至标题">¶</a></h5>
<p>你可以依照如下步骤获取、安装预编译的内核。</p>
<ol class="simple">
<li><p>从realease文件夹下载发布的包</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ApolloAuto</span><span class="o">/</span><span class="n">apollo</span><span class="o">-</span><span class="n">kernel</span><span class="o">/</span><span class="n">releases</span>
</pre></div>
</div>
<ol class="simple">
<li><p>安装内核</p></li>
</ol>
<p>下载完release安装包以后:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">tar</span> <span class="n">zxvf</span> <span class="n">linux</span><span class="o">-</span><span class="mf">4.4.32</span><span class="o">-</span><span class="n">apollo</span><span class="o">-</span><span class="mf">1.0.0</span><span class="o">.</span><span class="n">tar</span><span class="o">.</span><span class="n">gz</span>
<span class="n">cd</span> <span class="n">install</span>
<span class="n">sudo</span> <span class="n">bash</span> <span class="n">install_kernel</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<ol class="simple">
<li><p>使用 <code class="docutils literal notranslate"><span class="pre">reboot</span></code>命令重启系统；</p></li>
<li><p>根据<a class="reference external" href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md">ESDCAN-README.md</a>编译ESD CAN驱动器源代码</p></li>
</ol>
</section>
<section id="id17">
<h5>构建你自己的内核<a class="headerlink" href="#id17" title="永久链接至标题">¶</a></h5>
<p>如果内核被改动过，或预编译内核不是你最佳的平台，你可以通过如下方法构建你自己的内核：</p>
<ol class="simple">
<li><p>从代码仓库克隆代码：</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">git</span> <span class="n">clone</span> <span class="n">https</span><span class="p">:</span><span class="o">//</span><span class="n">github</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">ApolloAuto</span><span class="o">/</span><span class="n">apollo</span><span class="o">-</span><span class="n">kernel</span><span class="o">.</span><span class="n">git</span>
<span class="n">cd</span> <span class="n">apollo</span><span class="o">-</span><span class="n">kernel</span>
</pre></div>
</div>
<ol class="simple">
<li><p>根据 <a class="reference external" href="https://github.com/ApolloAuto/apollo-kernel/blob/master/linux/ESDCAN-README.md">ESDCAN-README.md</a>添加 ESD CAN 驱动源代码。</p></li>
<li><p>按照如下指令编译：</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">bash</span> <span class="n">build</span><span class="o">.</span><span class="n">sh</span>
</pre></div>
</div>
<ol class="simple">
<li><p>使用同样的方式安装内核。</p></li>
</ol>
</section>
</section>
<section id="nvidia-gpu">
<h4>安装 NVIDIA GPU 驱动<a class="headerlink" href="#nvidia-gpu" title="永久链接至标题">¶</a></h4>
<p>车辆中的Apollo运行需要<a class="reference external" href="http://www.nvidia.com/download/driverResults.aspx/114708/en-us">NVIDIA GPU 驱动</a>。您必须安装具有特定选项的NVIDIA GPU驱动程序。</p>
<ol class="simple">
<li><p>下载安装文件</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">wget</span> <span class="n">http</span><span class="p">:</span><span class="o">//</span><span class="n">us</span><span class="o">.</span><span class="n">download</span><span class="o">.</span><span class="n">nvidia</span><span class="o">.</span><span class="n">com</span><span class="o">/</span><span class="n">XFree86</span><span class="o">/</span><span class="n">Linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">/</span><span class="mf">375.39</span><span class="o">/</span><span class="n">NVIDIA</span><span class="o">-</span><span class="n">Linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mf">375.39</span><span class="o">.</span><span class="n">run</span>
</pre></div>
</div>
<ol class="simple">
<li><p>开始安装</p></li>
</ol>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">sudo</span> <span class="n">bash</span> <span class="o">./</span><span class="n">NVIDIA</span><span class="o">-</span><span class="n">Linux</span><span class="o">-</span><span class="n">x86_64</span><span class="o">-</span><span class="mf">375.39</span><span class="o">.</span><span class="n">run</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">x</span><span class="o">-</span><span class="n">check</span> <span class="o">-</span><span class="n">a</span> <span class="o">-</span><span class="n">s</span> <span class="o">--</span><span class="n">no</span><span class="o">-</span><span class="n">kernel</span><span class="o">-</span><span class="n">module</span>
</pre></div>
</div>
<section id="esd-can">
<h5>可选：测试ESD CAN设备端<a class="headerlink" href="#esd-can" title="永久链接至标题">¶</a></h5>
<p>在重启有新内核的IPC以后：</p>
<p>a. 使用以下指令创建CAN硬件节点：</p>
<div class="highlight-shell notranslate"><div class="highlight"><pre><span></span><span class="nb">cd</span> /dev<span class="p">;</span> sudo mknod –-mode<span class="o">=</span>a+rw can0 c <span class="m">52</span> <span class="m">0</span>
</pre></div>
</div>
<p>b. 使用从ESD Electronics获取到得的ESD CAN软件包的一部分的测试程序来测试CAN设备节点。</p>
<p>至此，IPC就可以被装载到车辆上了。</p>
</section>
</section>
</section>
</section>
<section id="id18">
<h2>上车安装<a class="headerlink" href="#id18" title="永久链接至标题">¶</a></h2>
<p>执行以下任务：</p>
<ul class="simple">
<li><p>根据先决条件列表中的所述，对车辆进行必要的修改</p></li>
<li><p>安装主要的组件：Install the major components:</p>
<ul>
<li><p>GPS 天线</p></li>
<li><p>IPC</p></li>
<li><p>GPS 接收器</p></li>
<li><p>LiDAR</p></li>
<li><p>摄像头</p></li>
<li><p>雷达</p></li>
</ul>
</li>
</ul>
<section id="id19">
<h3>前提条件<a class="headerlink" href="#id19" title="永久链接至标题">¶</a></h3>
<p><strong><img alt="warning_icon" src="../../_images/warning_icon1.png" />WARNING</strong>: 在将主要部件（GPS天线，IPC和GPS接收器）安装在车辆之前，必须按照先决条件列表所述执行必要修改。 列表中所述强制性更改的部分，不属于本文档的范围。</p>
<p>安装的前提条件如下：</p>
<ul class="simple">
<li><p>车辆必须由专业服务公司修改为“线控”技术。 此外，必须在要安装IPC的中继线上提供CAN接口连接。</p></li>
<li><p>必须在后备箱中安装电源插板，为IPC和GPS-IMU提供电源。电源插板还需要服务于车上的其他硬件，比如4G的路由器。电源插板应连接到车辆的电源系统。</p></li>
<li><p>必须安装定制的机架，将GPS-IMU天线安装在车辆的顶部。</p></li>
<li><p>必须安装定制的机架，以便将GPS-IMU安装在后背箱中。</p></li>
<li><p>必须将4G LTE路由器安装在后备箱中才能为IPC提供Internet访问。路由器必须具有内置Wi-Fi接入点（AP）功能，以连接到其他设备（如iPad），以与自主驾驶（AD）系统相连接。例如，用户将能够使用移动设备来启动AD模式或监视AD状态。</p></li>
</ul>
</section>
<section id="id20">
<h3>主要部件安装图<a class="headerlink" href="#id20" title="永久链接至标题">¶</a></h3>
<p>以下两图显示车辆上应安装三个主要组件（GPS天线，IPC，GPS接收机和LiDAR）的位置： 示例图：</p>
<p><img alt="major_component_side_view" src="../../_images/Car_Sideview.png" /></p>
<p>车辆与后备箱侧视图</p>
<p><img alt="major_component_rear_view" src="../../_images/Car_Rearview.png" />
车辆与后备箱后视图</p>
</section>
<section id="gps">
<h3>安装GPS的接收器和天线<a class="headerlink" href="#gps" title="永久链接至标题">¶</a></h3>
<p>以下组件 <strong>二选一</strong>:</p>
<ul class="simple">
<li><p><strong>选项 1:</strong> GPS-IMU: <strong>NovAtel SPAN-IGM-A1</strong></p></li>
<li><p><strong>选项 2:</strong> GPS-IMU: <strong>NovAtel SPAN® ProPak6™ and NovAtel IMU-IGM-A1</strong></p></li>
</ul>
<section id="id21">
<h4>选项1：安装NovAtel SPAN-IGM-A1<a class="headerlink" href="#id21" title="永久链接至标题">¶</a></h4>
<p>安装说明描述了安装，连接和采取GPS-IMU NovAtel SPAN-IGM-A1的杠杆臂测量的过程。</p>
<section id="id22">
<h5>安装<a class="headerlink" href="#id22" title="永久链接至标题">¶</a></h5>
<p>可以将GPS-IMU NovAtel SPAN-IGM-A1放置在车辆的大部分地方，但建议您遵循以下建议：</p>
<ul class="simple">
<li><p>将NovAtel SPAN-IGM-A1放置并固定在后备箱内，Y轴指向前方。</p></li>
<li><p>将NovAtel GPS-703-GGG-HV天线安装在位于车辆顶部的视野范围内。</p></li>
</ul>
</section>
<section id="id23">
<h5>接线<a class="headerlink" href="#id23" title="永久链接至标题">¶</a></h5>
<p>您必须连接的两根电缆：</p>
<ul class="simple">
<li><p>天线电缆 - 将GNSS天线连接到SPAN-IGM-A1的天线端口</p></li>
<li><p>主电缆：</p>
<ul>
<li><p>将其15针端连接到SPAN-IGM-A1</p></li>
<li><p>将其电源线连接到10至30V直流电源</p></li>
<li><p>将其串行端口连接到IPC。如果电源来自车载电池，请添加辅助电池（推荐）。</p></li>
</ul>
</li>
</ul>
<p><img alt="imu_main_cable_connection" src="../../_images/imu_main_cable_connection.png" /></p>
<p>主电缆连接</p>
<p>更多信息参见 <em>SPAN-IGM™ 快速入门指南</em>, 第三页, 详细图:</p>
<p><img alt="online_icon" src="../../_images/online_icon.png" />SPAN-IGM™ 快速入门指南</p>
<p><a class="reference external" href="http://www.novatel.com/assets/Documents/Manuals/GM-14915114.pdf">http://www.novatel.com/assets/Documents/Manuals/GM-14915114.pdf</a></p>
</section>
<section id="id24">
<h5>采取杠杆臂测量<a class="headerlink" href="#id24" title="永久链接至标题">¶</a></h5>
<p>当SPAN-IGM-A1和GPS天线就位时，必须测量从SPAN-IGM-A1到GPS天线的距离。 该距离标识为：X偏移，Y偏移和Z偏移。</p>
<p>偏移误差必须在1厘米以内才能实现高精度。 有关详细信息，请参阅 * SPAN-IGM™快速入门指南*，第5页，详细图。</p>
<p>更多有关SPAN-IGM-A1的信息参见:</p>
<p><img alt="online_icon" src="../../_images/online_icon.png" />SPAN-IGM™ 用户手册:</p>
<p><a class="reference external" href="http://www.novatel.com/assets/Documents/Manuals/OM-20000141.pdf">http://www.novatel.com/assets/Documents/Manuals/OM-20000141.pdf</a></p>
</section>
</section>
<section id="novatel-span-propak6-novatel-imu-igm-a1">
<h4>选项2：NovAtel SPAN® ProPak6™ 和 NovAtel IMU-IGM-A1<a class="headerlink" href="#novatel-span-propak6-novatel-imu-igm-a1" title="永久链接至标题">¶</a></h4>
<p>安装说明描述了安装，连接和采取GPS NovAtelSPAN®ProPak6™<strong>和</strong> NovAtel IMU-IGM-A1的杠杆臂测量的步骤。</p>
<section id="id25">
<h5>组件<a class="headerlink" href="#id25" title="永久链接至标题">¶</a></h5>
<p>安装所需的组件包括：</p>
<ul class="simple">
<li><p>NovAtel GPS SPAN ProPak6</p></li>
<li><p>NovAtel IMU-IGM-A1</p></li>
<li><p>NovAtel GPS-703-GGG-HV天线</p></li>
<li><p>NovAtel GPS-C006电缆（将天线连接到GPS）</p></li>
<li><p>NovAtel 01019014主电缆（将GPS连接到IPC的串行端口）</p></li>
<li><p>数据传输单元（DTU） - 类似于4G路由器</p></li>
<li><p>磁性适配器（用于天线和DTU）</p></li>
<li><p>DB9直通电缆</p></li>
</ul>
</section>
<section id="id26">
<h5>安装<a class="headerlink" href="#id26" title="永久链接至标题">¶</a></h5>
<p>你可以将 ProPak6 和 IMU 放置在车辆以下建议的位置：</p>
<ul class="simple">
<li><p>将ProPak6和IMU并排固定在行李箱内，Y轴指向前方。</p></li>
<li><p>将NovAtel GPS-703-GGG-HV天线安装在车辆顶部或后备箱盖顶部，如图所示：</p></li>
</ul>
<p><img alt="gps_receiver_on_car" src="../../_images/gps_receiver_on_car.png" /></p>
<ul class="simple">
<li><p>使用磁性适配器将天线紧固到后备箱盖上。</p></li>
<li><p>通过打开后备箱并将电缆放置在后备箱中，将天线也安装在后备箱中。</p></li>
</ul>
</section>
<section id="id27">
<h5>接线<a class="headerlink" href="#id27" title="永久链接至标题">¶</a></h5>
<p>按照以下步骤将ProPak6 GNSS接收器和IMU连接到Apollo系统：</p>
<ol class="simple">
<li><p>使用IMU-IGM-A1附带的分接电缆连接IMU主端口和ProPak6 COM3/IMU端口。</p></li>
<li><p>使用USB-MicroUSB转换线，连接IPC的USB端口和ProPak6的MicroUSB端口。</p></li>
<li><p>将IMU-IGM-A1分离电缆的另一端连接到车辆电源。</p></li>
<li><p>将GNSS天线连接到Propak6。</p></li>
<li><p>连接Propak6电源线。</p></li>
</ol>
<p><img alt="wiring" src="../../_images/wiring.png" /></p>
<p>更多有关 NovAtel SPAN ProPak6的信息, 参见:</p>
<p><img alt="online_icon" src="../../_images/online_icon.png" />NovAtel ProPak6安装操作手册:</p>
<p><a class="reference external" href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
</section>
</section>
</section>
<section id="id28">
<h3>安装激光雷达(LiDAR)<a class="headerlink" href="#id28" title="永久链接至标题">¶</a></h3>
<p>本部分描述了安装HDL-64E S3 LiDAR的步骤。</p>
<section id="id29">
<h4>安装<a class="headerlink" href="#id29" title="永久链接至标题">¶</a></h4>
<p>您需要一种定制的特定安装结构来成功地将HDL-64E S3激光雷达安装在车辆的顶部。这种结构必须向激光雷达系统提供刚性支撑，同时将激光雷达提高到地面以上的一定高度。这个高度避免了激光雷达的激光束被车辆的前部以及后部阻挡。激光雷达所需的实际高度取决于车辆的设计和激光雷达相对于车辆的安装点。激光器的垂直倾角通常与视距为2～24.8度。为了充分利用探测范围，在林肯MKZ上，建议将激光雷达安装在1.8米（从地面到激光雷达的底部）的最小高度。</p>
</section>
<section id="id30">
<h4>接线<a class="headerlink" href="#id30" title="永久链接至标题">¶</a></h4>
<p>每个HDL-64E S3 激光雷达包括一个将LiDAR连接到电源的电缆组件，计算机（用于数据传输的以太网和用于LiDAR配置的串行端口）和GPS时间同步源。</p>
<p><img alt="LiDAR_Cable" src="../../_images/HDL64_Cable_whitened_labeled.png" /></p>
<ol class="simple">
<li><p>连接到LiDAR</p></li>
</ol>
<p>将电源和信号电缆连接到LiDAR上的匹配端口</p>
<p><img alt="HDL64_Cabling" src="../../_images/HDL64_Cabling.jpg" /></p>
<ol>
<li><p>连接到电源</p>
<p>两根AWG 16线为HDL-64E S3提供所需电力。 所需电压/电流：12V/3A。 要连接电源，请与电线完全接触并拧紧螺丝。</p>
<p><img alt="HDL64_Power_Cable" src="../../_images/HDL64_PowerCable.jpg" /></p>
</li>
<li><p>连接到IPC</p>
<p>与IPC的连接是通过以太网线。将电缆束中的以太网线水晶头插入IPC上的以太网端口。</p>
</li>
<li><p>连接到 GPS:</p>
<p>HDL64E S3 推荐最小特定GPS/传输数据（GPRMC）和每秒脉冲（PPS）信号与GPS时间同步。需要定制连接来建立GPS接收机和LiDAR之间的通信：</p>
<blockquote>
<div><p>HDL64E S3 LiDAR requires the Recommended minimum specific GPS/Transit data (GPRMC) and pulse per second (PPS)signal to synchronize to the GPS time.</p>
</div></blockquote>
<p>a. SPAN-IGM-A1</p>
<p>如果您配置了[配置GPS和IMU]（＃配置gps和imu）中指定的SPAN-IGM-A1，GPRMC信号将通过用户端口电缆从主端口从GPS接收器发送。 PPS信号通过Aux端口上标有“PPS”和“PPS dgnd”的电缆发送。 下图中的虚线框是HDL64E S3 LiDAR和SPAN-IGM-A1 GPS接收机附带的可用连接。 剩余的连接需要由用户进行。</p>
<p><img alt="Wiring_Schematics_IGM_A1" src="../../_images/LiDAR_A1_wiring.png" /></p>
<p>b. Propak 6 和 IMU-IGM-A1</p>
<p>如果您配置了[配置GPS和IMU]（＃configuration-the-gps-and-imu）中指定的Propak 6，GPRMC信号将通过COM2端口从GPS接收器发送。PPS信号通过IO端口发送。</p>
<p>下图中的虚线框是HDL-64E S3 LiDAR和Propak 6 GPS接收机附带的可用连接。 剩余的连接需要由用户进行。</p>
<p><img alt="Wiring_Schematics_PP6" src="../../_images/LiDAR_PP6_wiring.png" /></p>
</li>
<li><p>通过串口连接进行LiDAR配置</p>
<p>一些低级的参数可以通过串口进行配置。</p>
<p>在Velodyne提供的电缆束内，有两对红色/黑色电缆，如下表所示。 较厚的一对（AWG 16）用于为LiDAR系统供电。 较薄的一对用于串行连接。 将黑线（串行输入）连接到RX，将红线连接到串行电缆的地线。 将串行电缆与USB串行适配器连接至所选择的计算机。</p>
<p><img alt="pinout_table" src="../../_images/pinout_table.png" /></p>
</li>
</ol>
</section>
<section id="id31">
<h4>配置<a class="headerlink" href="#id31" title="永久链接至标题">¶</a></h4>
<p>默认情况下，HDL-64E S3的网络IP地址设置为192.168.0.1。 但是，当我们配置Apollo时，我们应该将网络IP地址改为192.168.20.13。 可以使用终端应用程序Terminalite 3.2，进入网络设置命令。可以按照以下步骤配置HDL-64E S3的IP地址：</p>
<ol>
<li><p>将串行电缆的一面连接到笔记本电脑</p></li>
<li><p>将串行电缆的另一端连接到HDL-64E S3的串行线</p></li>
<li><p>COM 端口默认程序
Baudrate: 9600
Parity: None
Data bits: 8
Stop bits: 1</p></li>
<li><p>COM端口程序，从如下链接下载 Termite3.2 并安装
<a class="reference external" href="http://www.compuphase.com/software_termite.htm">http://www.compuphase.com/software_termite.htm</a></p></li>
<li><p>HDL-64E S3和笔记本电脑之间的COM端口连接
<img alt="Serial cable connected to laptop.png" src="../../_images/Serial_cable_connected_to_laptop.png" /></p></li>
<li><p>在笔记本运行 <strong>Termite 3.2</strong></p></li>
<li><p>发出串行命令，通过串口“\＃HDLIPA192168020013192168020255”设置HDL-64E S3的IP地址</p></li>
<li><p>本机必须重新上电才能采用新的IP地址</p>
<p><img alt="Issuing the serial command" src="../../_images/Issuing_the_serial_command.png" /></p>
<p><img alt="online_icon" src="../../_images/online_icon.png" />HDL-64E S3 手册可见:</p>
<p><a class="reference external" href="http://velodynelidar.com/hdl-64e.html">http://velodynelidar.com/hdl-64e.html</a></p>
</li>
</ol>
</section>
<section id="vlp-16-lidar">
<h4>安装 VLP-16 lidar (可选)<a class="headerlink" href="#vlp-16-lidar" title="永久链接至标题">¶</a></h4>
<p>Apollo 2.5的地图制作服务已经向公众开放。为了获得地图创建所需的数据，需要在车辆上安装附加的VLP-16激光雷达。LiDAR的目的是收集HDL-64 S3 激光雷达FOV上方的物体的点云信息，例如交通信号灯和标志。它需要一个定制的机架安装VLP-16激光雷达在车辆顶部。下图显示了可以选择的配置之一。<img alt="VLP_16_installation" src="../../_images/VLP16_install_configuration.jpg" /></p>
<p>In this specific configuration, the VLP-16 LiDAR is mounted with an upward tilt of 20±2°. The power cable of the VLP-16 is connected to the DataSpeed power panel. The ethernet connection is connected to the IPC (possibly through an ethernet switch). Similar to HDL-64 S3 LiDAR, the VLP-16 GPRMC and PPS input from the GPS receiver. Ideally, additional hardware should be installed to duplicate the GPRMC and PPS signal from the GPS receiver send to HDL-64 and VLP-16 respectively. However, a simple Y-split cable may also provide adequate signal for both LiDAR’s. To distingush from the HDL-64 S3 LiDAR, please follow the VLP-16 manual and use the webpage interface to configure the IP of VLP-16 to 192.168.20.14, the data port to 2369, and the telemetry port to 8309. The pinout for the signal input from GPS receiver can also be found in the manual if you need customized cable.</p>
<p><img alt="online_icon" src="../../_images/online_icon.png" />VLP-16 Manual can be found on this webpage:</p>
<p><a class="reference external" href="http://velodynelidar.com/vlp-16.htmll">http://velodynelidar.com/vlp-16.html</a></p>
</section>
</section>
<section id="id32">
<h3>安装摄像头<a class="headerlink" href="#id32" title="永久链接至标题">¶</a></h3>
<p>本部分描述了安装摄像头的过程。</p>
<p>Apollo参考设计建议使用三个不同焦距的摄像头：两个6毫米镜头，一个25毫米镜头。这三个摄像头的摆放位置非常灵活，它们可以放置在LiDAR的旁边或前车窗的里。摄像机的安装可以为系统的实际设计量身定做。</p>
<ul>
<li><p>这两个摄像机都应该朝着前进方向。视场（FOV）应尽量远离障碍物。</p></li>
<li><p><img alt="Cameras_lock_screw" src="../../_images/LI-Camera-OnVehicle.png" /></p></li>
<li><p>25毫米焦距的照相机应该向上倾斜大约两度。调整后，25毫米相机应该能够观察到100米外有红路灯的交叉路口的停车线。</p></li>
<li><p>新出厂的摄像头的镜片不在最好的聚焦位置。通过调整镜片的焦距来找到正确的位置，找到远处目标物体的清晰图像。一个好的图像目标是交通标志或街道标志内的FOV。调整焦点后，使用锁紧螺丝来固定镜头的位置。</p>
<p><img alt="Cameras_lock_screw" src="../../_images/LI-Camera-LockScrew.png" /></p>
</li>
<li><p>使用USB 3.0连接相机（USB 3.0 Micro-B）和IPC（USB 3.0 type A），并用螺钉来加固连接。</p></li>
</ul>
</section>
<section id="id33">
<h3>安装雷达<a class="headerlink" href="#id33" title="永久链接至标题">¶</a></h3>
<p>本部分介绍了Continental雷达的安装过程。</p>
<p>雷达需要一个匹配的机械机架安装在前保险杠上。安装后，要求雷达朝向驱动方向，稍微向上倾斜不超过2度。</p>
<p><img alt="Radar Installations" src="../../_images/Radar_OnVehicle.png" /></p>
<p>带有雷达的电缆需要被路由到汽车的后部，并连接到ESD CAN卡的CAN1信道。</p>
<section id="id34">
<h4>安装IPC<a class="headerlink" href="#id34" title="永久链接至标题">¶</a></h4>
<p>步骤如下:</p>
<ol>
<li><p>使用电压转换器/调节器，将车辆的12 VDC输出转换为所需的电压。根据Neousys的建议，使用12 VDC至19 VDC转换器，最大输出电流为20 A.</p>
<p><img alt="voltage_regulater_converter" src="../../_images/voltage_converter2.jpg" /></p>
<p>a.  首先，将两条19 VDC输出线连接到IPC的电源连接器（绿色如下图所示）。</p>
<p><img alt="ipc_power_RB" src="../../_images/ipc_power_RB.png" /></p>
<p>b. 将12 VDC输入的两条电缆连接到车辆的电源面板。 如果导线的尺寸太厚，则电线应分开成几根线，并分别连接到相应的端口。</p>
<p><img alt="warning" src="../../_images/warning_icon1.png" />这一步非常有必要。 如果输入电压低于所需极限。 很可能导致系统故障。</p>
</li>
<li><p>将板载计算机系统6108GC放在后备箱内（推荐）。</p>
<p>例如，Apollo 2.5使用4x4螺钉将6108GC螺栓固定在后备箱的箱板上。 <img alt="IPC-bolt_down-936x720" src="../../_images/Mount_ipc_on_carpet.jpg" /></p>
</li>
<li><p>安装IPC，使其前后两侧（所有端口位于）面对右侧（乘客）或左侧（驱动器）的主干。
这种定位使得连接所有电缆更容易。
有关更多信息，请参见：</p></li>
</ol>
<p><img alt="online_icon" src="../../_images/online_icon.png" />Neousys Nuvo-6108GC – 手册:</p>
<p><strong>[链接暂不可用]</strong></p>
<ol class="simple">
<li><p>连接所有电缆，其中包括：</p></li>
</ol>
<ul class="simple">
<li><p>电力电缆</p></li>
<li><p>控制器局域网（CAN）电缆</p></li>
<li><p>从4G路由器到IPC的以太网电缆</p></li>
<li><p>监视器、键盘、鼠标（可选）
a. 将电源线连接到工控机（如图所示）：
b. 将电源线的另一端连接到车辆电池（如图所示）：</p></li>
</ul>
<p><img alt="IPC-power-cable" src="../../_images/IPC-power-cable.jpg" /></p>
<p>c. 连接DB9电缆工控机和可（如图所示）：</p>
<p><img alt="DB9_cable" src="../../_images/DB9_cable.png" /></p>
<p>d. 连接:</p>
<ul class="simple">
<li><p>从4G路由器到IPC的以太网电缆</p></li>
<li><p>IPC的GPS接收器</p></li>
<li><p>监视器（可选）：</p></li>
</ul>
<p><img alt="IPC-power-842x636" src="../../_images/cable_connected_incar.jpg" /></p>
</section>
<section id="id35">
<h4>杠杆臂测量<a class="headerlink" href="#id35" title="永久链接至标题">¶</a></h4>
<p>步骤如下:</p>
<ol class="simple">
<li><p>在接受测量之前，打开IPC。</p></li>
<li><p>当IMU和GPS天线就位时，必须测量从IMU到GPS天线的距离。距离测量应为：X偏移，Y偏移，和Z偏移。偏移误差必须在一厘米以内，以达到定位和定位的高精度。
更多信息，参见：</p></li>
</ol>
<p><img alt="online_icon" src="../../_images/online_icon.png" />NovAtel ProPak6 安装与操作手册:</p>
<p><a class="reference external" href="https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf">https://www.novatel.com/assets/Documents/Manuals/OM-20000148.pdf</a></p>
<p><img alt="online_icon" src="../../_images/online_icon.png" />NovAtel SPAN-IGM-A1 产品主页:</p>
<p><a class="reference external" href="https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/">https://www.novatel.com/products/span-gnss-inertial-systems/span-combined-systems/span-igm-a1/</a></p>
</section>
<section id="gpsimu">
<h4>配置GPS、IMU<a class="headerlink" href="#gpsimu" title="永久链接至标题">¶</a></h4>
<p>GPS 和IMU 配置如下：</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WIFICONFIG</span> <span class="n">STATE</span> <span class="n">OFF</span>
<span class="n">UNLOGALL</span> <span class="n">THISPORT</span>
<span class="n">INSCOMMAND</span> <span class="n">ENABLE</span>
<span class="n">SETIMUORIENTATION</span> <span class="mi">5</span>
<span class="n">ALIGNMENTMODE</span> <span class="n">AUTOMATIC</span>  
<span class="n">VEHICLEBODYROTATION</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">COM</span> <span class="n">COM1</span> <span class="mi">9600</span> <span class="n">N</span> <span class="mi">8</span> <span class="mi">1</span> <span class="n">N</span> <span class="n">OFF</span> <span class="n">OFF</span>
<span class="n">COM</span> <span class="n">COM2</span> <span class="mi">9600</span> <span class="n">N</span> <span class="mi">8</span> <span class="mi">1</span> <span class="n">N</span> <span class="n">OFF</span> <span class="n">OFF</span>
<span class="n">INTERFACEMODE</span> <span class="n">COM1</span> <span class="n">NOVATEL</span> <span class="n">NOVATEL</span> <span class="n">ON</span>
<span class="n">PPSCONTROL</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mf">1.0</span> <span class="mi">10000</span>
<span class="n">MARKCONTROL</span> <span class="n">MARK1</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span>
<span class="n">EVENTINCONTROL</span> <span class="n">MARK1</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mi">0</span> <span class="mi">2</span>
<span class="n">interfacemode</span> <span class="n">usb2</span> <span class="n">rtcmv3</span> <span class="n">none</span> <span class="n">off</span>
<span class="n">rtksource</span> <span class="n">auto</span> <span class="nb">any</span>
<span class="n">psrdiffsource</span> <span class="n">auto</span> <span class="nb">any</span>

<span class="n">SETIMUTOANTOFFSET</span> <span class="mf">0.00</span> <span class="mf">1.10866</span> <span class="mf">1.14165</span> <span class="mf">0.05</span> <span class="mf">0.05</span> <span class="mf">0.08</span>
<span class="n">SETINSOFFSET</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">EVENTOUTCONTROL</span> <span class="n">MARK2</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mi">999999990</span> <span class="mi">10</span>
<span class="n">EVENTOUTCONTROL</span> <span class="n">MARK1</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mi">500000000</span> <span class="mi">500000000</span>


<span class="n">LOG</span> <span class="n">COM2</span> <span class="n">GPRMC</span> <span class="n">ONTIME</span> <span class="mf">1.0</span> <span class="mf">0.25</span>
<span class="n">LOG</span> <span class="n">USB1</span> <span class="n">GPGGA</span> <span class="n">ONTIME</span> <span class="mf">1.0</span>

<span class="n">log</span> <span class="n">USB1</span> <span class="n">bestgnssposb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bestgnssvelb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bestposb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">INSPVAXB</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">INSPVASB</span> <span class="n">ontime</span> <span class="mf">0.01</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">CORRIMUDATASB</span> <span class="n">ontime</span> <span class="mf">0.01</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">RAWIMUSXB</span> <span class="n">onnew</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">mark1pvab</span> <span class="n">onnew</span>

<span class="n">log</span> <span class="n">USB1</span> <span class="n">rangeb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bdsephemerisb</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gpsephemb</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gloephemerisb</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bdsephemerisb</span> <span class="n">ontime</span> <span class="mi">15</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gpsephemb</span> <span class="n">ontime</span> <span class="mi">15</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gloephemerisb</span> <span class="n">ontime</span> <span class="mi">15</span>

<span class="n">log</span> <span class="n">USB1</span> <span class="n">imutoantoffsetsb</span> <span class="n">once</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">vehiclebodyrotationb</span> <span class="n">onchanged</span>
 
<span class="n">SAVECONFIG</span>


</pre></div>
</div>
<p>ProPak6配置如下:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">WIFICONFIG</span> <span class="n">STATE</span> <span class="n">OFF</span>
<span class="n">UNLOGALL</span> <span class="n">THISPORT</span>
<span class="n">CONNECTIMU</span> <span class="n">COM3</span> <span class="n">IMU_ADIS16488</span>
<span class="n">INSCOMMAND</span> <span class="n">ENABLE</span>
<span class="n">SETIMUORIENTATION</span> <span class="mi">5</span>
<span class="n">ALIGNMENTMODE</span> <span class="n">AUTOMATIC</span>  
<span class="n">VEHICLEBODYROTATION</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">COM</span> <span class="n">COM1</span> <span class="mi">9600</span> <span class="n">N</span> <span class="mi">8</span> <span class="mi">1</span> <span class="n">N</span> <span class="n">OFF</span> <span class="n">OFF</span>
<span class="n">COM</span> <span class="n">COM2</span> <span class="mi">9600</span> <span class="n">N</span> <span class="mi">8</span> <span class="mi">1</span> <span class="n">N</span> <span class="n">OFF</span> <span class="n">OFF</span>
<span class="n">INTERFACEMODE</span> <span class="n">COM1</span> <span class="n">NOVATEL</span> <span class="n">NOVATEL</span> <span class="n">ON</span>
<span class="n">PPSCONTROL</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mf">1.0</span> <span class="mi">10000</span>
<span class="n">MARKCONTROL</span> <span class="n">MARK1</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span>
<span class="n">EVENTINCONTROL</span> <span class="n">MARK1</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mi">0</span> <span class="mi">2</span>
<span class="n">interfacemode</span> <span class="n">usb2</span> <span class="n">rtcmv3</span> <span class="n">none</span> <span class="n">off</span>
<span class="n">rtksource</span> <span class="n">auto</span> <span class="nb">any</span>
<span class="n">psrdiffsource</span> <span class="n">auto</span> <span class="nb">any</span>
<span class="n">SETIMUTOANTOFFSET</span> <span class="mf">0.00</span> <span class="mf">1.10866</span> <span class="mf">1.14165</span> <span class="mf">0.05</span> <span class="mf">0.05</span> <span class="mf">0.08</span>
<span class="n">SETINSOFFSET</span> <span class="mi">0</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">EVENTOUTCONTROL</span> <span class="n">MARK2</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mi">999999990</span> <span class="mi">10</span>
<span class="n">EVENTOUTCONTROL</span> <span class="n">MARK1</span> <span class="n">ENABLE</span> <span class="n">POSITIVE</span> <span class="mi">500000000</span> <span class="mi">500000000</span>


<span class="n">LOG</span> <span class="n">COM2</span> <span class="n">GPRMC</span> <span class="n">ONTIME</span> <span class="mf">1.0</span> <span class="mf">0.25</span>
<span class="n">LOG</span> <span class="n">USB1</span> <span class="n">GPGGA</span> <span class="n">ONTIME</span> <span class="mf">1.0</span>

<span class="n">log</span> <span class="n">USB1</span> <span class="n">bestgnssposb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bestgnssvelb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bestposb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">INSPVAXB</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">INSPVASB</span> <span class="n">ontime</span> <span class="mf">0.01</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">CORRIMUDATASB</span> <span class="n">ontime</span> <span class="mf">0.01</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">RAWIMUSXB</span> <span class="n">onnew</span> <span class="mi">0</span> <span class="mi">0</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">mark1pvab</span> <span class="n">onnew</span>

<span class="n">log</span> <span class="n">USB1</span> <span class="n">rangeb</span> <span class="n">ontime</span> <span class="mi">1</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bdsephemerisb</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gpsephemb</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gloephemerisb</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">bdsephemerisb</span> <span class="n">ontime</span> <span class="mi">15</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gpsephemb</span> <span class="n">ontime</span> <span class="mi">15</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">gloephemerisb</span> <span class="n">ontime</span> <span class="mi">15</span>

<span class="n">log</span> <span class="n">USB1</span> <span class="n">imutoantoffsetsb</span> <span class="n">once</span>
<span class="n">log</span> <span class="n">USB1</span> <span class="n">vehiclebodyrotationb</span> <span class="n">onchanged</span>
 
<span class="n">SAVECONFIG</span>
</pre></div>
</div>
<p><strong><img alt="warning" src="../../_images/warning_icon1.png" />WARNING：</strong> 基于真实的测量值（GPS天线、IMU的偏移量）修改 <strong><u>SETIMUTOANTOFFSE</u>T</strong> 行。</p>
<p>示例:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">SETIMUTOANTOFFSET</span> <span class="o">-</span><span class="mf">0.05</span> <span class="mf">0.5</span> <span class="mf">0.8</span> <span class="mf">0.05</span> <span class="mf">0.05</span> <span class="mf">0.08</span>
</pre></div>
</div>
</section>
</section>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id36">
<h1>建立网络<a class="headerlink" href="#id36" title="永久链接至标题">¶</a></h1>
<p>本节提供了一种建立网络的建议。
运行Apollo软件的IPC必须访问互联网获取实时运动学（RTK）数据，以便精确定位。移动设备还需要连接到IPC来运行Apollo软件。</p>
<section id="id37">
<h2>推荐配置<a class="headerlink" href="#id37" title="永久链接至标题">¶</a></h2>
<p>建议您根据下图设置网络：</p>
<p><img alt="4G_network_setup" src="../../_images/4G-LTE-setup-6108GC.png" /></p>
<p>步骤如下：</p>
<ul class="simple">
<li><p>安装并配置4G网络，</p></li>
<li><p>通过以太网线连接IPC到路由器</p></li>
<li><p>配置路由器使用LTE蜂窝网络接入互联网</p></li>
<li><p>配置LTE路由器的AP功能，使iPad Pro或其他移动设备可以连接到路由器，然后连接到IPC。</p></li>
</ul>
<p><img alt="tip_icon" src="../../_images/tip_icon1.png" />建议您配置一个固定的IP，而不是在IPC上使用DHCP，以使它更容易从移动终端被连接。</p>
</section>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id38">
<h1>额外任务<a class="headerlink" href="#id38" title="永久链接至标题">¶</a></h1>
<p>需要使用自己提供的组件来执行以下任务：</p>
<ul class="simple">
<li><p>使用DVI或HDMI电缆连接显示器，并连接键盘和鼠标，以便在现场的汽车上执行调试任务。</p></li>
<li><p>在Apple iPad Pro上建立Wi-Fi连接，以访问HMI并控制IPC上运行的Apollo ADS。</p></li>
</ul>
</section>
<section class="tex2jax_ignore mathjax_ignore" id="id39">
<h1>下一步<a class="headerlink" href="#id39" title="永久链接至标题">¶</a></h1>
<p>完成硬件部分的安装之后，可以参考快速入门的教程 <a class="reference external" href="https://github.com/ApolloAuto/apollo/blob/master/docs/quickstart/apollo_2_5_quick_start_cn.md">Apollo Quick Start</a>完成软件部分的安装。</p>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="apollo_2_5_map_collection_guide.html" title="Apollo 2.5 map collection guide"
             >下一页</a> |</li>
        <li class="right" >
          <a href="apollo_2_5_hardware_system_installation_guide_v1.html" title="Apollo 2.5 Hardware and System Installation Guide"
             >上一页</a> |</li>
        <li><a href="../../index.html">Apollo home</a>&#160;|</li>
        <li><a href="../../contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Apollo 2.5 硬件与系统安装指南</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2021, xinetzone.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>