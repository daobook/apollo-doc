
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Apollo Cyber RT Developer Tools &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx13.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/translations.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="canonical" href="https://www.sphinx-doc.org/en/master/docs/cyber/CyberRT_Developer_Tools.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="How to Develop Cyber RT inside Docker on Both x86_64 and ARM64" href="CyberRT_Docker.html" />
    <link rel="prev" title="Cyber RT API for Developers" href="CyberRT_API_for_Developers.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../README.html">Home</a></li>
    <li><a href="../quickstart/README.html">Get it</a></li>
    <li><a href="../../contents.html">Docs</a></li>
    <li><a href="../../development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="../../README.html">
      <img src="../../_static/sphinx.png" alt="Apollo Doc" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="CyberRT_Docker.html" title="How to Develop Cyber RT inside Docker on Both x86_64 and ARM64"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="CyberRT_API_for_Developers.html" title="Cyber RT API for Developers"
             accesskey="P">上一页</a> |</li>
        <li><a href="../../index.html">Apollo home</a>&#160;|</li>
        <li><a href="../../contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Apollo Cyber RT Developer Tools</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Apollo Cyber RT Developer Tools</a><ul>
<li><a class="reference internal" href="#cyber-visualizer">Cyber_visualizer</a><ul>
<li><a class="reference internal" href="#install-and-run">Install and run</a></li>
<li><a class="reference internal" href="#interacting-with-cyber-visualizer">Interacting with cyber_visualizer</a></li>
</ul>
</li>
<li><a class="reference internal" href="#cyber-monitor">Cyber_monitor</a><ul>
<li><a class="reference internal" href="#id1">Install and run</a></li>
<li><a class="reference internal" href="#useful-commands">Useful commands</a><ul>
<li><a class="reference internal" href="#display-help-information">Display help information</a></li>
<li><a class="reference internal" href="#specify-the-channel">Specify the channel</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#get-familiar-with-ui-of-cyber-monitor">Get familiar with UI of cyber_monitor</a><ul>
<li><a class="reference internal" href="#interacting-with-cyber-monitor">Interacting with cyber_monitor</a><ul>
<li><a class="reference internal" href="#common-commands">Common commands</a></li>
<li><a class="reference internal" href="#common-command-for-topology-and-channel">Common command for topology and channel</a></li>
<li><a class="reference internal" href="#commands-only-for-topology">Commands only for topology</a></li>
<li><a class="reference internal" href="#commands-only-for-channel">Commands only for channel</a></li>
<li><a class="reference internal" href="#view-the-repeated-data-field-in-a-channel">View the repeated data field in a channel</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#cyber-recorder">Cyber_recorder</a><ul>
<li><a class="reference internal" href="#id2">Install and run</a></li>
<li><a class="reference internal" href="#commands-of-cyber-recorder">Commands of cyber_recorder</a></li>
<li><a class="reference internal" href="#examples-of-using-cyber-recorder">Examples of using cyber_recorder</a><ul>
<li><a class="reference internal" href="#check-the-details-of-a-record-file">Check the details of a record file</a></li>
<li><a class="reference internal" href="#record-a-record-file">Record a record file</a></li>
<li><a class="reference internal" href="#replay-a-record-file">Replay a record file</a></li>
</ul>
</li>
</ul>
</li>
<li><a class="reference internal" href="#rosbag-to-record">rosbag_to_record</a><ul>
<li><a class="reference internal" href="#id3">Install and run</a></li>
<li><a class="reference internal" href="#example">Example</a></li>
</ul>
</li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="CyberRT_API_for_Developers.html"
                        title="上一章">Cyber RT API for Developers</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="CyberRT_Docker.html"
                        title="下一章">How to Develop Cyber RT inside Docker on Both x86_64 and ARM64</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/cyber/CyberRT_Developer_Tools.md.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="apollo-cyber-rt-developer-tools">
<h1>Apollo Cyber RT Developer Tools<a class="headerlink" href="#apollo-cyber-rt-developer-tools" title="永久链接至标题">¶</a></h1>
<p>Apollo Cyber RT framework comes with a collection of useful tools for daily development, including one visualization tool cyber_visualizer and two command line tools cyber_monitor and cyber_recorder.</p>
<p><em>Note: apollo docker environment is required to use the tools, please follow apollo wiki to enter docker</em></p>
<p>All the tools from Apollo Cyber RT rely on Apollo Cyber RT library, so you must source the setup.bash file for environment setup before using any Apollo Cyber RT tools, shown as below:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>username@computername:~$: <span class="nb">source</span> /your-path-to-apollo-install-dir/cyber/setup.bash
</pre></div>
</div>
<section id="cyber-visualizer">
<h2>Cyber_visualizer<a class="headerlink" href="#cyber-visualizer" title="永久链接至标题">¶</a></h2>
<section id="install-and-run">
<h3>Install and run<a class="headerlink" href="#install-and-run" title="永久链接至标题">¶</a></h3>
<p><code class="docutils literal notranslate"><span class="pre">cyber_visualizer</span></code> is a visualization tool for displaying the channel data in Apollo Cyber RT.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>username@computername:~$: <span class="nb">source</span> /your-path-to-apollo-install-dir/cyber/setup.bash
username@computername:~$: cyber_visualizer
</pre></div>
</div>
</section>
<section id="interacting-with-cyber-visualizer">
<h3>Interacting with cyber_visualizer<a class="headerlink" href="#interacting-with-cyber-visualizer" title="永久链接至标题">¶</a></h3>
<ul>
<li><p>After launching cyber_visualizer, you will see the following interface:</p>
<p><img alt="interface" src="../../_images/cyber_visualizer1.png" /></p>
</li>
<li><p>When data flow through channels in Apollo Cyber RT, the list of all channels are displayed under <code class="docutils literal notranslate"><span class="pre">ChannelNames</span></code> as seen in the figure below. For example, you can use the record tool(cyber_recorder) of Apollo Cyber RT to replay data from another terminal, then <code class="docutils literal notranslate"><span class="pre">cyber_visualizer</span></code> will receive information of all active channels(from replay data) and display it.</p>
<p><img alt="channel information" src="../../_images/cyber_visualizer2.png" /></p>
</li>
<li><p>By clicking on options in toolbar, you can enable reference grid, display point clouds, add images, or display multiple camera’s data at the same time. If you have <code class="docutils literal notranslate"><span class="pre">Show</span> <span class="pre">Grid</span></code> option enabled, you can set the color of the grid by double-clicking the <code class="docutils literal notranslate"><span class="pre">Color</span></code> item of the <code class="docutils literal notranslate"><span class="pre">Grid</span></code> list below <code class="docutils literal notranslate"><span class="pre">ChannelNames</span></code>. The default color is gray. You can also edit the value of <code class="docutils literal notranslate"><span class="pre">CellCount</span></code> to adjust the number of cells in the grid.
As for a point cloud or an image, you can select the source channel through its <code class="docutils literal notranslate"><span class="pre">ChannelName</span></code> sub-item, and <code class="docutils literal notranslate"><span class="pre">Action</span></code> sub-item to play or stop the data from the corresponding channel.
As shown in figure below, three cameras’ channel data on the button sections and one point cloud channel data on the top section are displayed simultaneously.</p>
<p><img alt="visualization" src="../../_images/cyber_visualizer3.png" /></p>
</li>
<li><p>To adjust the virtual camera in the 3D point cloud scene, you can right click on the point cloud display section. A dialog box will pop up as shown in figure below.</p>
<p><img alt="visualization" src="../../_images/cyber_visualizer4.png" /></p>
<p>The point cloud scene supports two types of cameras: Free and Target.(select Type from pop up dialog above)</p>
<ul class="simple">
<li><p><strong>Free type Camera</strong>: For this type of camera in the point cloud scene, you can change the pose of the camera by holding down either left or right mouse button and move it. To change the pitch of camera, you can scroll the mouse wheel.</p></li>
<li><p><strong>Target type Camera</strong>: For this type of camera in the point cloud scene, to change the camera’s viewing angle, you can hold down the left mouse button and then move it. To change the distance of the camera to the observed point (the default observation point is the coordinate system origin (0, 0,0)), you can scroll the mouse wheel.</p></li>
</ul>
<p>You can also modify the camera information directly in the dialog box to change the camera’s observation status in the point cloud scene. And the “Step” item is the step value from the dialog box.</p>
<p>Place the mouse on the image of the camera channel, you can double-click the left button to highlight the corresponding data channel on the left menu bar. Right click on the image to bring up menu for deleting the camera channel.</p>
<p>Play and Pause buttons: when clicking the <code class="docutils literal notranslate"><span class="pre">Play</span></code> button, all channels will be shown. While when clicking the <code class="docutils literal notranslate"><span class="pre">Pause</span></code> button, all channels will stop showing on the tool.</p>
</li>
</ul>
</section>
</section>
<section id="cyber-monitor">
<h2>Cyber_monitor<a class="headerlink" href="#cyber-monitor" title="永久链接至标题">¶</a></h2>
<section id="id1">
<h3>Install and run<a class="headerlink" href="#id1" title="永久链接至标题">¶</a></h3>
<p>The command line tool <code class="docutils literal notranslate"><span class="pre">cyber_monitor</span></code> provides a clear view of the list of real time channel information Apollo Cyber RT in the terminal.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>username@computername:~$: <span class="nb">source</span> /your-path-to-apollo-install-dir/cyber/setup.bash
username@computername:~$: cyber_monitor
</pre></div>
</div>
</section>
<section id="useful-commands">
<h3>Useful commands<a class="headerlink" href="#useful-commands" title="永久链接至标题">¶</a></h3>
<section id="display-help-information">
<h4>Display help information<a class="headerlink" href="#display-help-information" title="永久链接至标题">¶</a></h4>
<p>Use the -h option to get help for cyber_monitor</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>username@computername:~$: cyber_monitor -h
</pre></div>
</div>
</section>
<section id="specify-the-channel">
<h4>Specify the channel<a class="headerlink" href="#specify-the-channel" title="永久链接至标题">¶</a></h4>
<p>With the -c option, you can have cyber_monitor to monitor only a specified channel, such as:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>username@computername:~$: cyber_monitor -c ChannelName
</pre></div>
</div>
</section>
</section>
</section>
<section id="get-familiar-with-ui-of-cyber-monitor">
<h2>Get familiar with UI of cyber_monitor<a class="headerlink" href="#get-familiar-with-ui-of-cyber-monitor" title="永久链接至标题">¶</a></h2>
<p>After launching the command line tool, you will notice it is similar to cyber_visualizer. It automatically collects the information of all the channels through the topology and displays them in two columns (channel name, channel data type).</p>
<p>The default display for channel information is in red. However, if there is data flowing through the a channel, the corresponding line of the channel is displayed in green. As shown in the image below:</p>
<p><img alt="monitor" src="../../_images/cyber_monitor.png" /></p>
<section id="interacting-with-cyber-monitor">
<h3>Interacting with cyber_monitor<a class="headerlink" href="#interacting-with-cyber-monitor" title="永久链接至标题">¶</a></h3>
<section id="common-commands">
<h4>Common commands<a class="headerlink" href="#common-commands" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">ESC</span> <span class="o">|</span> <span class="n">q</span> <span class="n">key</span> <span class="o">----</span> <span class="n">Exit</span>
<span class="n">Backspace</span> <span class="o">----</span> <span class="n">Back</span>
<span class="n">h</span> <span class="o">|</span> <span class="n">H</span> <span class="o">----</span> <span class="n">Show</span> <span class="n">help</span> <span class="n">page</span>
</pre></div>
</div>
</section>
<section id="common-command-for-topology-and-channel">
<h4>Common command for topology and channel<a class="headerlink" href="#common-command-for-topology-and-channel" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">PageDown</span> <span class="o">|</span> <span class="n">Ctrl</span><span class="o">+</span><span class="n">d</span> <span class="o">---</span> <span class="n">Next</span>
<span class="n">PageUp</span> <span class="o">|</span> <span class="n">Ctrl</span><span class="o">+</span><span class="n">u</span> <span class="o">---</span> <span class="n">Previous</span>
<span class="n">Up</span><span class="p">,</span> <span class="n">down</span> <span class="ow">or</span> <span class="n">w</span><span class="p">,</span> <span class="n">s</span> <span class="n">keys</span> <span class="o">----</span> <span class="n">Move</span> <span class="n">the</span> <span class="n">current</span> <span class="n">highlight</span> <span class="n">line</span> <span class="n">up</span> <span class="ow">and</span> <span class="n">down</span>
<span class="n">Right</span> <span class="n">arrow</span> <span class="ow">or</span> <span class="n">d</span> <span class="n">key</span> <span class="o">----</span> <span class="n">Enter</span> <span class="n">highlight</span> <span class="n">line</span><span class="p">,</span> <span class="n">display</span> <span class="n">highlighted</span> <span class="n">line</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">detail</span>
<span class="n">Left</span> <span class="n">arrow</span> <span class="ow">or</span> <span class="n">a</span> <span class="n">key</span> <span class="o">------</span> <span class="n">Return</span> <span class="n">to</span> <span class="n">the</span> <span class="n">previous</span> <span class="n">layer</span> <span class="kn">from</span> <span class="nn">the</span> <span class="n">current</span>
<span class="n">Enter</span> <span class="n">key</span> <span class="o">-----</span> <span class="n">Same</span> <span class="k">as</span> <span class="n">d</span> <span class="n">key</span>
</pre></div>
</div>
</section>
<section id="commands-only-for-topology">
<h4>Commands only for topology<a class="headerlink" href="#commands-only-for-topology" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">f</span> <span class="o">|</span> <span class="n">F</span> <span class="o">-----</span> <span class="n">Display</span> <span class="n">frame</span> <span class="n">rate</span>
<span class="n">t</span> <span class="o">|</span> <span class="n">T</span> <span class="o">-----</span> <span class="n">Display</span> <span class="n">channel</span> <span class="n">message</span> <span class="nb">type</span>
<span class="n">Space</span> <span class="o">-----</span> <span class="n">Close</span><span class="o">|</span><span class="n">Open</span> <span class="n">channel</span> <span class="p">(</span><span class="n">only</span> <span class="n">valid</span> <span class="k">for</span> <span class="n">channels</span> <span class="k">with</span> <span class="n">data</span> <span class="n">arrival</span><span class="p">;</span> <span class="n">yellow</span> <span class="n">color</span> <span class="n">after</span> <span class="n">channel</span> <span class="ow">is</span> <span class="n">closed</span><span class="p">)</span>
</pre></div>
</div>
</section>
<section id="commands-only-for-channel">
<h4>Commands only for channel<a class="headerlink" href="#commands-only-for-channel" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">i</span> <span class="o">|</span> <span class="n">I</span> <span class="o">-----</span> <span class="n">Display</span> <span class="n">channel</span> <span class="n">Reader</span> <span class="ow">and</span> <span class="n">Writer</span> <span class="n">information</span>
<span class="n">b</span> <span class="o">|</span> <span class="n">B</span> <span class="o">------</span> <span class="n">Display</span> <span class="n">channel</span> <span class="n">message</span> <span class="n">content</span>
</pre></div>
</div>
</section>
<section id="view-the-repeated-data-field-in-a-channel">
<h4>View the repeated data field in a channel<a class="headerlink" href="#view-the-repeated-data-field-in-a-channel" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="n">n</span> <span class="o">|</span> <span class="n">N</span> <span class="o">----</span> <span class="n">Repeat</span> <span class="n">the</span> <span class="nb">next</span> <span class="n">data</span> <span class="ow">in</span> <span class="n">the</span> <span class="n">domain</span>
<span class="n">m</span> <span class="o">|</span> <span class="n">M</span> <span class="o">----</span> <span class="n">Repeat</span> <span class="n">one</span> <span class="n">data</span> <span class="n">on</span> <span class="n">the</span> <span class="n">domain</span>
</pre></div>
</div>
</section>
</section>
</section>
<section id="cyber-recorder">
<h2>Cyber_recorder<a class="headerlink" href="#cyber-recorder" title="永久链接至标题">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">cyber_recorder</span></code> is a record/playback tool provided by Apollo Cyber RT. It provides many useful functions, including recording a record file, playing back a record file, splitting a record file, checking the information of record file and etc.</p>
<section id="id2">
<h3>Install and run<a class="headerlink" href="#id2" title="永久链接至标题">¶</a></h3>
<p>Launch cyber_recorder:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">source</span> /your-path-to-apollo-install-dir/cyber/setup.bash
$ cyber_recorder
usage: cyber_recorder &lt;command&gt;&gt; <span class="o">[</span>&lt;args&gt;<span class="o">]</span>
The cyber_recorder commands are:
    info                               Show information of an exist record.
    play                               Play an exist record.
    record                             Record same topic.
    split                              Split an exist record.
    recover                            Recover an exist record.
</pre></div>
</div>
</section>
<section id="commands-of-cyber-recorder">
<h3>Commands of cyber_recorder<a class="headerlink" href="#commands-of-cyber-recorder" title="永久链接至标题">¶</a></h3>
<ul class="simple">
<li><p>To view the information of a record file:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder info -h
usage: cyber_recorder info [options]
	-h, --help				show help message
</pre></div>
</div>
<ul class="simple">
<li><p>To record a record file</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder record -h
usage: cyber_recorder record [options]
    -o, --output &lt;file&gt;                output record file
    -a, --all                          all channels
    -c, --white-channel &lt;name&gt;         only record the specified channel
    -k, --black-channel &lt;name&gt;         not record the specified channel
    -i, --segment-interval &lt;seconds&gt;   record segmented every n second(s)
    -m, --segment-size &lt;MB&gt;            record segmented every n megabyte(s)
    -h, --help                         show help message

</pre></div>
</div>
<ul class="simple">
<li><p>To play back a record file:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder play -h
usage: cyber_recorder play [options]
    -f, --file &lt;file&gt;			input record file
    -a, --all				play all
    -c, --white-channel &lt;name&gt;		only play the specified channel
    -k, --black-channel &lt;name&gt;		not play the specified channel
    -l, --loop				loop play
    -r, --rate &lt;1.0&gt;			multiply the play rate by FACTOR
    -b, --begin &lt;2018-07-01 00:00:00&gt;	play the record begin at
    -e, --end &lt;2018-07-01 00:01:00&gt;	play the record end at
    -s, --start &lt;seconds&gt;		play started at n seconds
    -d, --delay &lt;seconds&gt;		play delayed n seconds
    -p, --preload &lt;seconds&gt;		play after trying to preload n second(s)
    -h, --help				show help message
</pre></div>
</div>
<ul class="simple">
<li><p>To split a record file:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder split -h
usage: cyber_recorder split [options]
    -f, --file &lt;file&gt;                  input record file
    -o, --output &lt;file&gt;                output record file
    -a, --all                          all channels
    -c, --white-channel &lt;name&gt;         only split the specified channel
    -k, --black-channel &lt;name&gt;         not split the specified channel
    -b, --begin &lt;2018-07-01 00:00:00&gt;  begin at assigned time
                                       (in the form of String, e.g. &quot;2018-07-01 00:00:00&quot;)
    -e, --end &lt;2018-07-01 01:00:00&gt;    end at assigned time
                                       (in the form of String, e.g. &quot;2018-07-01 00:00:00&quot;)
</pre></div>
</div>
<ul class="simple">
<li><p>To repair a record file:</p></li>
</ul>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder recover -h
usage: cyber_recorder recover [options]
    -f, --file &lt;file&gt;                  input record file
    -o, --output &lt;file&gt;                output record file
</pre></div>
</div>
</section>
<section id="examples-of-using-cyber-recorder">
<h3>Examples of using cyber_recorder<a class="headerlink" href="#examples-of-using-cyber-recorder" title="永久链接至标题">¶</a></h3>
<section id="check-the-details-of-a-record-file">
<h4>Check the details of a record file<a class="headerlink" href="#check-the-details-of-a-record-file" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder info demo.record
record_file:    demo.record
version:        1.0
duration:       19.995227 Seconds
begin_time:     2018-04-17 06:25:36
end_time:       2018-04-17 06:25:55
size:           28275479 Bytes (26.965598 MB)
is_complete:    true
message_number: 15379
channel_number: 16
channel_info:   /apollo/localization/pose                             2000 messages : apollo.localization.LocalizationEstimate
                /tf                                                   4000 messages : apollo.transform.TransformStampeds
                /apollo/control                                       2000 messages : apollo.control.ControlCommand
                /apollo/sensor/gnss/odometry                          2000 messages : apollo.localization.Gps
                /apollo/canbus/chassis                                2000 messages : apollo.canbus.Chassis
                /apollo/sensor/gnss/imu                               1999 messages : apollo.drivers.gnss.Imu
                /apollo/sensor/gnss/rtk_obs                             41 messages : apollo.drivers.gnss.EpochObservation
                /apollo/sensor/gnss/ins_stat                            20 messages : apollo.drivers.gnss.InsStat
                /apollo/sensor/gnss/best_pose                           20 messages : apollo.drivers.gnss.GnssBestPose
                /apollo/perception/obstacles                           400 messages : apollo.perception.PerceptionObstacles
                /apollo/prediction                                     400 messages : apollo.prediction.PredictionObstacles
                /apollo/sensor/conti_radar                             270 messages : apollo.drivers.ContiRadar
                /apollo/planning                                       200 messages : apollo.planning.ADCTrajectory
                /apollo/monitor/static_info                              1 messages : apollo.data.StaticInfo
                /apollo/sensor/gnss/rtk_eph                             25 messages : apollo.drivers.gnss.GnssEphemeris
                /apollo/monitor                                          3 messages : apollo.common.monitor.MonitorMessage

</pre></div>
</div>
</section>
<section id="record-a-record-file">
<h4>Record a record file<a class="headerlink" href="#record-a-record-file" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder record -a
[RUNNING]  Record :     total channel num : 1  total msg num : 5
...
</pre></div>
</div>
</section>
<section id="replay-a-record-file">
<h4>Replay a record file<a class="headerlink" href="#replay-a-record-file" title="永久链接至标题">¶</a></h4>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span>$ cyber_recorder play -f 20180720202307.record
file: 20180720202307.record, chunk_number: 1, begin_time: 1532089398663399667, end_time: 1532089404688079759, message_number: 75
please wait for loading and playing back record...
Hit Ctrl+C to stop replay, or Space to pause.
[RUNNING]  Record Time: 1532089404.688080    Progress: 6.024680 / 6.024680
play finished. file: 20180720202307.record
</pre></div>
</div>
</section>
</section>
</section>
<section id="rosbag-to-record">
<h2>rosbag_to_record<a class="headerlink" href="#rosbag-to-record" title="永久链接至标题">¶</a></h2>
<p><code class="docutils literal notranslate"><span class="pre">rosbag_to_record</span></code> is a tool which can convert rosbag to recorder file provided by Apollo Cyber RT. Now the tool support following channel:</p>
<div class="highlight-default notranslate"><div class="highlight"><pre><span></span><span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">perception</span><span class="o">/</span><span class="n">obstacles</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">planning</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">prediction</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">canbus</span><span class="o">/</span><span class="n">chassis</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">control</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">guardian</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">localization</span><span class="o">/</span><span class="n">pose</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">perception</span><span class="o">/</span><span class="n">traffic_light</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">drive_event</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">gnss</span><span class="o">/</span><span class="n">odometry</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">monitor</span><span class="o">/</span><span class="n">static_info</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">monitor</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">canbus</span><span class="o">/</span><span class="n">chassis_detail</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">control</span><span class="o">/</span><span class="n">pad</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">navigation</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">routing_request</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">routing_response</span>
<span class="o">/</span><span class="n">tf</span>
<span class="o">/</span><span class="n">tf_static</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">conti_radar</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">delphi_esr</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">gnss</span><span class="o">/</span><span class="n">best_pose</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">gnss</span><span class="o">/</span><span class="n">imu</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">gnss</span><span class="o">/</span><span class="n">ins_stat</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">gnss</span><span class="o">/</span><span class="n">rtk_eph</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">gnss</span><span class="o">/</span><span class="n">rtk_obs</span>
<span class="o">/</span><span class="n">apollo</span><span class="o">/</span><span class="n">sensor</span><span class="o">/</span><span class="n">velodyne64</span><span class="o">/</span><span class="n">compensator</span><span class="o">/</span><span class="n">PointCloud2</span>
</pre></div>
</div>
<section id="id3">
<h3>Install and run<a class="headerlink" href="#id3" title="永久链接至标题">¶</a></h3>
<p>Launch rosbag_to_record:</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ <span class="nb">source</span> /your-path-to-apollo-install-dir/cyber/setup.bash
$ rosbag_to_record
Usage:
  rosbag_to_record input.bag output.record
</pre></div>
</div>
</section>
<section id="example">
<h3>Example<a class="headerlink" href="#example" title="永久链接至标题">¶</a></h3>
<p>We can convert <a class="reference external" href="https://github.com/ApolloAuto/apollo/releases/download/v2.5.0/demo_2.5.bag">Apollo2.5 demo bag</a> to record file.</p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span>$ rosbag_to_record demo_2.5.bag demo.record
record_file:    demo.record
version:        <span class="m">1</span>.0
duration:       <span class="m">19</span>.995227 Seconds
begin_time:     <span class="m">2018</span>-04-17 <span class="m">06</span>:25:36
end_time:       <span class="m">2018</span>-04-17 <span class="m">06</span>:25:55
size:           <span class="m">28275479</span> Bytes <span class="o">(</span><span class="m">26</span>.965598 MB<span class="o">)</span>
is_complete:    <span class="nb">true</span>
message_number: <span class="m">15379</span>
channel_number: <span class="m">16</span>
channel_info:   /apollo/localization/pose                             <span class="m">2000</span> messages : apollo.localization.LocalizationEstimate
                /tf                                                   <span class="m">4000</span> messages : apollo.transform.TransformStampeds
                /apollo/control                                       <span class="m">2000</span> messages : apollo.control.ControlCommand
                /apollo/sensor/gnss/odometry                          <span class="m">2000</span> messages : apollo.localization.Gps
                /apollo/canbus/chassis                                <span class="m">2000</span> messages : apollo.canbus.Chassis
                /apollo/sensor/gnss/imu                               <span class="m">1999</span> messages : apollo.drivers.gnss.Imu
                /apollo/sensor/gnss/rtk_obs                             <span class="m">41</span> messages : apollo.drivers.gnss.EpochObservation
                /apollo/sensor/gnss/ins_stat                            <span class="m">20</span> messages : apollo.drivers.gnss.InsStat
                /apollo/sensor/gnss/best_pose                           <span class="m">20</span> messages : apollo.drivers.gnss.GnssBestPose
                /apollo/perception/obstacles                           <span class="m">400</span> messages : apollo.perception.PerceptionObstacles
                /apollo/prediction                                     <span class="m">400</span> messages : apollo.prediction.PredictionObstacles
                /apollo/sensor/conti_radar                             <span class="m">270</span> messages : apollo.drivers.ContiRadar
                /apollo/planning                                       <span class="m">200</span> messages : apollo.planning.ADCTrajectory
                /apollo/monitor/static_info                              <span class="m">1</span> messages : apollo.data.StaticInfo
                /apollo/sensor/gnss/rtk_eph                             <span class="m">25</span> messages : apollo.drivers.gnss.GnssEphemeris
                /apollo/monitor                                          <span class="m">3</span> messages : apollo.common.monitor.MonitorMessage
Conversion finished! Took <span class="m">0</span>.505623051 seconds <span class="k">in</span> total.
</pre></div>
</div>
</section>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="CyberRT_Docker.html" title="How to Develop Cyber RT inside Docker on Both x86_64 and ARM64"
             >下一页</a> |</li>
        <li class="right" >
          <a href="CyberRT_API_for_Developers.html" title="Cyber RT API for Developers"
             >上一页</a> |</li>
        <li><a href="../../index.html">Apollo home</a>&#160;|</li>
        <li><a href="../../contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Apollo Cyber RT Developer Tools</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2021, xinetzone.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>