
<!DOCTYPE html>

<html lang="zh_CN">
  <head>
    <meta charset="utf-8" />
    <meta name="viewport" content="width=device-width, initial-scale=1.0" /><meta name="generator" content="Docutils 0.17.1: http://docutils.sourceforge.net/" />

    <title>Apollo Cyber RT FAQs &#8212; Sphinx documentation</title>
    <link rel="stylesheet" type="text/css" href="../../_static/pygments.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/sphinx13.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/tabs.css" />
    <link rel="stylesheet" type="text/css" href="../../_static/graphviz.css" />
    <script data-url_root="../../" id="documentation_options" src="../../_static/documentation_options.js"></script>
    <script src="../../_static/jquery.js"></script>
    <script src="../../_static/underscore.js"></script>
    <script src="../../_static/doctools.js"></script>
    <script src="../../_static/tabs.js"></script>
    <script src="../../_static/translations.js"></script>
    <script src="https://unpkg.com/mermaid/dist/mermaid.min.js"></script>
    <script>mermaid.initialize({startOnLoad:true});</script>
    <link rel="canonical" href="https://www.sphinx-doc.org/en/master/docs/cyber/CyberRT_FAQs.html" />
    <link rel="search" type="application/opensearchdescription+xml"
          title="在 Sphinx documentation 中搜索"
          href="../../_static/opensearch.xml"/>
    <link rel="shortcut icon" href="../../_static/favicon.svg"/>
    <link rel="index" title="索引" href="../../genindex.html" />
    <link rel="search" title="搜索" href="../../search.html" />
    <link rel="next" title="Migration guide from Apollo ROS" href="CyberRT_Migration_Guide.html" />
    <link rel="prev" title="How to Develop Cyber RT inside Docker on Both x86_64 and ARM64" href="CyberRT_Docker.html" />
    <link href='https://fonts.googleapis.com/css?family=Open+Sans:300,400,700'
          rel='stylesheet' type='text/css' />
 
    <style type="text/css">
      table.right { float: right; margin-left: 20px; }
      table.right td { border: 1px solid #ccc; }
      
    </style>
    <script>
      // intelligent scrolling of the sidebar content
      $(window).scroll(function() {
        var sb = $('.sphinxsidebarwrapper');
        var win = $(window);
        var sbh = sb.height();
        var offset = $('.sphinxsidebar').position()['top'];
        var wintop = win.scrollTop();
        var winbot = wintop + win.innerHeight();
        var curtop = sb.position()['top'];
        var curbot = curtop + sbh;
        // does sidebar fit in window?
        if (sbh < win.innerHeight()) {
          // yes: easy case -- always keep at the top
          sb.css('top', $u.min([$u.max([0, wintop - offset - 10]),
                                $(document).height() - sbh - 200]));
        } else {
          // no: only scroll if top/bottom edge of sidebar is at
          // top/bottom edge of window
          if (curtop > wintop && curbot > winbot) {
            sb.css('top', $u.max([wintop - offset - 10, 0]));
          } else if (curtop < wintop && curbot < winbot) {
            sb.css('top', $u.min([winbot - sbh - offset - 20,
                                  $(document).height() - sbh - 200]));
          }
        }
      });
    </script>

  </head><body>
<div class="pageheader">
  <ul>
    <li><a href="../../README.html">Home</a></li>
    <li><a href="../quickstart/README.html">Get it</a></li>
    <li><a href="../../contents.html">Docs</a></li>
    <li><a href="../../development/index.html">Extend</a></li>
  </ul>
  <div>
    <a href="../../README.html">
      <img src="../../_static/sphinx.png" alt="Apollo Doc" />
    </a>
  </div>
</div>

    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             accesskey="I">索引</a></li>
        <li class="right" >
          <a href="CyberRT_Migration_Guide.html" title="Migration guide from Apollo ROS"
             accesskey="N">下一页</a> |</li>
        <li class="right" >
          <a href="CyberRT_Docker.html" title="How to Develop Cyber RT inside Docker on Both x86_64 and ARM64"
             accesskey="P">上一页</a> |</li>
        <li><a href="../../index.html">Apollo home</a>&#160;|</li>
        <li><a href="../../contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Apollo Cyber RT FAQs</a></li> 
      </ul>
    </div>
      <div class="sphinxsidebar" role="navigation" aria-label="main navigation">
        <div class="sphinxsidebarwrapper">
  <h3><a href="../../contents.html">目录</a></h3>
  <ul>
<li><a class="reference internal" href="#">Apollo Cyber RT FAQs</a><ul>
<li><a class="reference internal" href="#what-is-apollo-cyber-rt">What is Apollo Cyber RT?</a></li>
<li><a class="reference internal" href="#why-did-we-decide-to-work-on-a-new-runtime-framework">Why did we decide to work on a new runtime framework?</a></li>
<li><a class="reference internal" href="#what-are-the-advantages-of-the-new-runtime-framework">What are the advantages of the new runtime framework?</a></li>
<li><a class="reference internal" href="#can-we-still-use-the-data-that-we-have-collected">Can we still use the data that we have collected?</a></li>
<li><a class="reference internal" href="#will-you-continue-to-support-ros">Will you continue to support ROS?</a></li>
<li><a class="reference internal" href="#will-apollo-cyber-rt-affect-regular-code-development">Will Apollo Cyber RT affect regular code development?</a></li>
<li><a class="reference internal" href="#recommended-setup-for-apollo-cyber-rt">Recommended setup for Apollo Cyber RT</a></li>
<li><a class="reference internal" href="#how-to-enable-shm-to-decrease-the-latency">How to enable SHM to decrease the latency?</a></li>
<li><a class="reference internal" href="#how-to-use-the-no-serialization-message">How to use the no serialization message?</a></li>
<li><a class="reference internal" href="#how-to-configure-multiple-hosts-communication">How to configure multiple hosts communication?</a></li>
</ul>
</li>
</ul>

  <h4>上一个主题</h4>
  <p class="topless"><a href="CyberRT_Docker.html"
                        title="上一章">How to Develop Cyber RT inside Docker on Both x86_64 and ARM64</a></p>
  <h4>下一个主题</h4>
  <p class="topless"><a href="CyberRT_Migration_Guide.html"
                        title="下一章">Migration guide from Apollo ROS</a></p>
  <div role="note" aria-label="source link">
    <h3>本页</h3>
    <ul class="this-page-menu">
      <li><a href="../../_sources/docs/cyber/CyberRT_FAQs.md.txt"
            rel="nofollow">显示源代码</a></li>
    </ul>
   </div>
<div id="searchbox" style="display: none" role="search">
  <h3 id="searchlabel">快速搜索</h3>
    <div class="searchformwrapper">
    <form class="search" action="../../search.html" method="get">
      <input type="text" name="q" aria-labelledby="searchlabel" autocomplete="off" autocorrect="off" autocapitalize="off" spellcheck="false"/>
      <input type="submit" value="转向" />
    </form>
    </div>
</div>
<script>$('#searchbox').show(0);</script>
        </div>
      </div>

    <div class="document">
      <div class="documentwrapper">
        <div class="bodywrapper">
          <div class="body" role="main">
            
  <section class="tex2jax_ignore mathjax_ignore" id="apollo-cyber-rt-faqs">
<h1>Apollo Cyber RT FAQs<a class="headerlink" href="#apollo-cyber-rt-faqs" title="永久链接至标题">¶</a></h1>
<section id="what-is-apollo-cyber-rt">
<h2>What is Apollo Cyber RT?<a class="headerlink" href="#what-is-apollo-cyber-rt" title="永久链接至标题">¶</a></h2>
<p>Apollo’s Cyber RT is an open source runtime framework designed specifically for
autonomous driving scenarios. Based on a centralized computing model, it is
highly optimized for performance, latency, and data throughput.</p>
</section>
<hr class="docutils" />
<section id="why-did-we-decide-to-work-on-a-new-runtime-framework">
<h2>Why did we decide to work on a new runtime framework?<a class="headerlink" href="#why-did-we-decide-to-work-on-a-new-runtime-framework" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>During years of development of autonomous driving technologies, we have
learned a lot from our previous experience with Apollo. In autonomous driving
scenarious, we need an effective centralized computing model, with demands for
high performance, including high concurrency, low latency and high
throughput。</p></li>
<li><p>The industry is evolving, so does Apollo. Going forward, Apollo has already
moved from development to productization, with volume deployments in the real
world, we see the demands for the highest robustness and high performance.
That’s why we spent years of building Apollo Cyber RT, which addresses that
requirements of autonomous driving solutions.</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="what-are-the-advantages-of-the-new-runtime-framework">
<h2>What are the advantages of the new runtime framework?<a class="headerlink" href="#what-are-the-advantages-of-the-new-runtime-framework" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>Accelerate development</p>
<ul>
<li><p>Well defined task interface with data fusion</p></li>
<li><p>Array of development tools</p></li>
<li><p>Large set of sensor drivers</p></li>
</ul>
</li>
<li><p>Simplify deployment</p>
<ul>
<li><p>Efficient and adaptive message communication</p></li>
<li><p>Configurable user level scheduler with resource awareness</p></li>
<li><p>Portable with fewer dependencies</p></li>
</ul>
</li>
<li><p>Empower your own autonomous vehicles</p>
<ul>
<li><p>The default open source runtime framework</p></li>
<li><p>Building blocks specifically designed for autonomous driving</p></li>
<li><p>Plug and play your own AD system</p></li>
</ul>
</li>
</ul>
</section>
<hr class="docutils" />
<section id="can-we-still-use-the-data-that-we-have-collected">
<h2>Can we still use the data that we have collected?<a class="headerlink" href="#can-we-still-use-the-data-that-we-have-collected" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>If the data you have collected is compatible with the previous versions of
Apollo, you could use our recommended conversion tools to make the data
compliant with our new runtime framework</p></li>
<li><p>If you created a customized data format, then the previously generated data
will not be supported by the new runtime framework</p></li>
</ul>
</section>
<hr class="docutils" />
<section id="will-you-continue-to-support-ros">
<h2>Will you continue to support ROS?<a class="headerlink" href="#will-you-continue-to-support-ros" title="永久链接至标题">¶</a></h2>
<p>We will continue to support previous Apollo releases (3.0 and before) based on
ROS. We do appreciate you continue growing with us and highly encourage you to
move to Apollo 3.5. While we know that some of our developers would prefer to
work on ROS, we do hope you will understand why Apollo as a team cannot continue
to support ROS in our future releases as we strive to work towards developing a
more holistic platform that meets automotive standards.</p>
</section>
<hr class="docutils" />
<section id="will-apollo-cyber-rt-affect-regular-code-development">
<h2>Will Apollo Cyber RT affect regular code development?<a class="headerlink" href="#will-apollo-cyber-rt-affect-regular-code-development" title="永久链接至标题">¶</a></h2>
<p>If you have not modified anything at runtime framework layer and have only
worked on Apollo’s module code base, you will not be affected by the
introduction of our new runtime framework as most of time you would only need to
re-interface the access of the input and output data.</p>
</section>
<hr class="docutils" />
<section id="recommended-setup-for-apollo-cyber-rt">
<h2>Recommended setup for Apollo Cyber RT<a class="headerlink" href="#recommended-setup-for-apollo-cyber-rt" title="永久链接至标题">¶</a></h2>
<ul class="simple">
<li><p>The runtime framework also uses apollo’s docker environment</p></li>
<li><p>It is recommended to run source setup.bash when opening a new terminal</p></li>
<li><p>Fork and clone the Apollo repo with the new framework code which can be found
at <span class="xref myst">apollo/cyber</span></p></li>
</ul>
</section>
<section id="how-to-enable-shm-to-decrease-the-latency">
<h2>How to enable SHM to decrease the latency?<a class="headerlink" href="#how-to-enable-shm-to-decrease-the-latency" title="永久链接至标题">¶</a></h2>
<p>To decrease number of threads, the readable notification mechanism of shared
memory was changed in CyberRT. The default mechanism is UDP multicast, and
system call(sendto) will cause some latency.</p>
<p>So, to decrease the latency, you can change the mechanism, The steps are listed
as following:</p>
<ol class="simple">
<li><p>update the CyberRT to the latest version;</p></li>
<li><p>uncomment the transport_conf in
<span class="xref myst">cyber.pb.conf</span>;</p></li>
<li><p>change <strong>notifier_type</strong> of <strong>shm_conf</strong> from “multicast” to “condition”;</p></li>
<li><p>build CyberRT with opt like <code class="docutils literal notranslate"><span class="pre">bazel</span> <span class="pre">build</span> <span class="pre">-c</span> <span class="pre">opt</span> <span class="pre">--copt=-fpic</span> <span class="pre">//cyber/...</span></code>;</p></li>
<li><p>run talker and listener;</p></li>
</ol>
<p>Note:You can select the corresponding transmission method according to the
relationship between nodes.For example, the default configuration is <strong>INTRA</strong>
in the process, <strong>SHM</strong> between the host process, and <strong>RTPS</strong> across the host.
Of course you can change all three to RTPS. Or change <code class="docutils literal notranslate"><span class="pre">same_proc</span></code> and
<code class="docutils literal notranslate"><span class="pre">diff_proc</span></code> to <strong>SHM</strong>;</p>
</section>
<section id="how-to-use-the-no-serialization-message">
<h2>How to use the no serialization message?<a class="headerlink" href="#how-to-use-the-no-serialization-message" title="永久链接至标题">¶</a></h2>
<p>The message types supported by Cyber RT include both serializable structured
data like protobuf and raw sequence of bytes. You can refer the sample code:</p>
<ul class="simple">
<li><p>apollo::cyber::message::RawMessage</p></li>
<li><p>talker:
<a class="reference external" href="https://github.com/gruminions/apollo/blob/record/cyber/examples/talker.cc">https://github.com/gruminions/apollo/blob/record/cyber/examples/talker.cc</a></p></li>
<li><p>listener:
<a class="reference external" href="https://github.com/gruminions/apollo/blob/record/cyber/examples/listener.cc">https://github.com/gruminions/apollo/blob/record/cyber/examples/listener.cc</a></p></li>
</ul>
</section>
<section id="how-to-configure-multiple-hosts-communication">
<h2>How to configure multiple hosts communication?<a class="headerlink" href="#how-to-configure-multiple-hosts-communication" title="永久链接至标题">¶</a></h2>
<p>Make sure the two hosts(or more) are under the same network segment of the local
area network, Like <code class="docutils literal notranslate"><span class="pre">192.168.10.6</span></code> and <code class="docutils literal notranslate"><span class="pre">192.168.10.7</span></code>.</p>
<p>You just need to modify <code class="docutils literal notranslate"><span class="pre">CYBER_IP</span></code> of <code class="docutils literal notranslate"><span class="pre">/apollo/cyber/setup.bash</span></code></p>
<div class="highlight-bash notranslate"><div class="highlight"><pre><span></span><span class="nb">export</span> <span class="nv">CYBER_IP</span><span class="o">=</span><span class="m">127</span>.0.0.1
</pre></div>
</div>
<p>Suppose you have two hosts A and B，the ip of A is <code class="docutils literal notranslate"><span class="pre">192.168.10.6</span></code>, and the ip of
B is <code class="docutils literal notranslate"><span class="pre">192.168.10.7</span></code>. Then set <code class="docutils literal notranslate"><span class="pre">CYBER_IP</span></code> to <code class="docutils literal notranslate"><span class="pre">192.168.10.6</span></code> on host A, and set
<code class="docutils literal notranslate"><span class="pre">CYBER_IP</span></code> to <code class="docutils literal notranslate"><span class="pre">192.168.10.7</span></code> on host B. Now host A can communicate with host B.</p>
<hr class="docutils" />
<p>More FAQs to follow…</p>
</section>
</section>


            <div class="clearer"></div>
          </div>
        </div>
      </div>
      <div class="clearer"></div>
    </div>
    <div class="related" role="navigation" aria-label="related navigation">
      <h3>导航</h3>
      <ul>
        <li class="right" style="margin-right: 10px">
          <a href="../../genindex.html" title="总目录"
             >索引</a></li>
        <li class="right" >
          <a href="CyberRT_Migration_Guide.html" title="Migration guide from Apollo ROS"
             >下一页</a> |</li>
        <li class="right" >
          <a href="CyberRT_Docker.html" title="How to Develop Cyber RT inside Docker on Both x86_64 and ARM64"
             >上一页</a> |</li>
        <li><a href="../../index.html">Apollo home</a>&#160;|</li>
        <li><a href="../../contents.html">Documentation</a> &#187;</li>

        <li class="nav-item nav-item-this"><a href="">Apollo Cyber RT FAQs</a></li> 
      </ul>
    </div>
    <div class="footer" role="contentinfo">
        &#169; 版权所有 2021, xinetzone.
      Created using <a href="https://www.sphinx-doc.org/">Sphinx</a> 4.2.0.
    </div>
  </body>
</html>